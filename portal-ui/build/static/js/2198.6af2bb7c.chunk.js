"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2198],{60289:function(e,n,t){t.r(n),t.d(n,{default:function(){return qn}});var i=t(1413),o=t(72791),a=t(60364),r=t(11135),s=t(25787),c=t(20068),l=t(13400),d=t(61889),u=t(26181),f=t.n(u),h=t(23814),m=t(93433),p=t(29439),x=t(57831),b=t(79271),v=t(81207),j=t(92983),g=t(45248),Z=t(20890),y=t(82422),C=t(78029),S=t.n(C),w=t(91523),k=t(36151),N=t(62410),E=t(38442),I=t(56087),_=t(62666),F=t(75578),T=t(87995),P=t(54756),L=t(80184),O=(0,F.Z)(o.lazy((function(){return t.e(2185).then(t.bind(t,62185))}))),D=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({},h.cx),{},{slashSpacingStyle:{margin:"0 5px"}}))}))((function(e){var n=e.classes,t=e.bucketName,i=e.internalPaths,r=e.existingFiles,s=e.hidePathButton,u=e.additionalOptions,f=(0,a.I0)(),h=(0,a.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),x=(0,a.v9)((function(e){return e.objectBrowser.versionsMode})),b=(0,a.v9)((function(e){return e.objectBrowser.versionedFile})),v=(0,o.useState)(!1),j=(0,p.Z)(v,2),Z=j[0],y=j[1],C=i;""!==i&&(C="/".concat(i));var F=C.split("/").filter((function(e){return""!==e})),D=F.length-1,B=F.map((function(e,i){var a="".concat(F.slice(0,i+1).join("/"),"/"),r="/buckets/".concat(t,"/browse/").concat(a?"".concat((0,g.LL)(a)):"");return i===D&&e===b?null:(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("span",{className:n.slashSpacingStyle,children:"/"}),i===D?(0,L.jsx)("span",{style:{cursor:"default"},children:e}):(0,L.jsx)(w.rU,{to:r,onClick:function(){f((0,P.db)({status:!1,objectName:""}))},children:e})]},"breadcrumbs-".concat(i.toString()))})),R=[];x&&(R=[(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)("span",{children:[(0,L.jsx)("span",{className:n.slashSpacingStyle,children:"/"}),b," - Versions"]})},"breadcrumbs-versionedItem")]);var z=[(0,L.jsx)(o.Fragment,{children:(0,L.jsx)(w.rU,{to:"/buckets/".concat(t,"/browse"),onClick:function(){f((0,P.db)({status:!1,objectName:""}))},children:t})},"breadcrumbs-root-path")].concat((0,m.Z)(B),(0,m.Z)(R));return(0,L.jsxs)(o.Fragment,{children:[(0,L.jsxs)("div",{className:n.breadcrumbsMain,children:[Z&&(0,L.jsx)(O,{modalOpen:Z,bucketName:t,folderName:i,onClose:function(){y(!1)},existingFiles:r}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:"".concat(n.breadcrumbs),children:[(0,L.jsx)(l.Z,{onClick:function(){x?f((0,P.db)({status:!1,objectName:""})):_.Z.goBack()},sx:{border:"#EAEDEE 1px solid",backgroundColor:"#fff",borderLeft:0,borderRadius:0,width:38,height:38,marginRight:"10px"},children:(0,L.jsx)(N.ubh,{})}),(0,L.jsx)("div",{className:n.breadcrumbsList,dir:"rtl",children:z}),(0,L.jsx)(S(),{text:"".concat(t,"/").concat(F.join("/")),children:(0,L.jsx)(k.Z,{id:"copy-path",startIcon:(0,L.jsx)(N.TIy,{}),disableTouchRipple:!0,disableRipple:!0,focusRipple:!1,variant:"outlined",onClick:function(){f((0,T.y1)("Path copied to clipboard"))},sx:{marginRight:"3px",padding:"0",color:"#969FA8",border:"#969FA8 1px solid",width:"20px",height:"20px",minHeight:"20px",minWidth:"28px","&.MuiButton-root":{height:"28px"},"& .min-icon":{width:"12px",height:"12px",marginLeft:"12px"}}})}),(0,L.jsx)("div",{className:n.additionalOptions,children:u})]}),!s&&(0,L.jsx)(c.Z,{title:"Choose or create a new path",children:(0,L.jsx)(k.Z,{id:"new-path",onClick:function(){y(!0)},disabled:h||!(0,E.F)(t,[I.Ft.S3_PUT_OBJECT]),endIcon:(0,L.jsx)(N.N$q,{}),disableTouchRipple:!0,disableRipple:!0,focusRipple:!1,sx:{color:"#969FA8",border:"#969FA8 1px solid",whiteSpace:"nowrap",minWidth:"160px","@media (max-width: 1060px)":{fontSize:0,minWidth:40,padding:"0 10px 0 0"}},variant:"outlined",children:"Create new path"})})]}),(0,L.jsx)("div",{className:n.breadcrumbsSecond,children:u})]})})),B=t(47922),R=t(14917),z=t(74794),A=t(71715),M=t(23786),U=t(49900),W=t(57064),G=t(40603),H=(0,s.Z)((function(e){return(0,r.Z)({listUploadIcons:{height:20,"& .min-icon":{width:18,fill:"rgba(0,0,0,0.87)"}}})}))((function(e){var n=e.uploadPath,t=e.bucketName,i=e.forceDisable,a=void 0!==i&&i,r=e.uploadFileFunction,s=e.uploadFolderFunction,c=e.classes,l=o.useState(null),d=(0,p.Z)(l,2),u=d[0],f=d[1],h=Boolean(u),m=function(){f(null)},x=(0,E.F)(n,[I.Ft.S3_PUT_OBJECT]),b=(0,E.F)(t,[I.Ft.S3_PUT_OBJECT],!1,!0),v=x||b;return(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(G.Z,{id:"upload-main",tooltip:"Upload Files","aria-controls":"upload-main-menu","aria-haspopup":"true","aria-expanded":h?"true":void 0,onClick:function(e){f(e.currentTarget)},text:"Upload",icon:(0,L.jsx)(N.rG2,{}),color:"primary",variant:"contained",disabled:a||!v}),(0,L.jsxs)(A.Z,{id:"upload-main-menu","aria-labelledby":"upload-main",anchorEl:u,open:h,onClose:function(){m()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,L.jsxs)(M.Z,{onClick:function(){r(m)},disabled:!x||a,children:[(0,L.jsx)(W.Z,{className:c.listUploadIcons,children:(0,L.jsx)(N.rG2,{})}),(0,L.jsx)(U.Z,{children:"Upload File"})]}),(0,L.jsxs)(M.Z,{onClick:function(){s(m)},disabled:!b||a,children:[(0,L.jsx)(W.Z,{className:c.listUploadIcons,children:(0,L.jsx)(N.oXh,{})}),(0,L.jsx)(U.Z,{children:"Upload Folder"})]})]})]})})),V=(0,s.Z)((function(e){return(0,r.Z)({detailsList:{borderColor:"#EAEDEE",backgroundColor:"#fff",borderWidth:0,borderStyle:"solid",borderRadius:3,borderBottomLeftRadius:0,borderBottomRightRadius:0,width:0,transitionDuration:"0.3s",overflowX:"hidden",overflowY:"auto",position:"relative",opacity:0,marginLeft:-1,"&.open":{width:300,minWidth:300,borderLeftWidth:1,opacity:1},"@media (max-width: 799px)":{"&.open":{width:"100%",minWidth:"100%",borderLeftWidth:0}}},closePanel:{position:"absolute",right:0,top:8,"& .min-icon":{width:14}}})}))((function(e){var n=e.classes,t=e.open,i=e.closePanel,o=e.className,a=void 0===o?"":o,r=e.children;return(0,L.jsxs)(d.ZP,{item:!0,className:"".concat(n.detailsList," ").concat(t?"open":""," ").concat(a),children:[(0,L.jsx)(l.Z,{onClick:i,className:n.closePanel,children:(0,L.jsx)(N.oto,{})}),r]})})),K=t(64554),J=t(25183),Y=t(34433),q=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],X=Array.from(Array(31),(function(e,n){return n+1})),Q=(new Date).getFullYear(),$=Array.from(Array(25),(function(e,n){return n+Q})),ee=t(56028),ne=t(37516),te=t(83679),ie=t(4942),oe=t(28182),ae=t(30829),re=t(68096),se=t(58406),ce=t(4834),le=t(84570),de=(0,s.Z)((function(e){return(0,r.Z)({root:{"& .MuiSelect-icon":{color:"#000","&.Mui-disabled":{color:"#9c9c9c"}}},input:{borderBottom:0,fontSize:12}})}))(ce.ZP),ue=(0,o.forwardRef)((function(e,n){var t=e.classes,i=e.id,a=e.label,r=e.disableOptions,s=void 0!==r&&r,l=e.addSwitch,u=void 0!==l&&l,f=e.tooltip,h=void 0===f?"":f,m=e.borderBottom,x=void 0!==m&&m,b=e.onDateChange,v=e.value,j=void 0===v?"":v;(0,o.useImperativeHandle)(n,(function(){return{resetDate:B}}));var g=(0,o.useState)(!1),Z=(0,p.Z)(g,2),y=Z[0],C=Z[1],S=(0,o.useState)(""),w=(0,p.Z)(S,2),k=w[0],N=w[1],E=(0,o.useState)(""),I=(0,p.Z)(E,2),_=I[0],F=I[1],T=(0,o.useState)(""),P=(0,p.Z)(T,2),O=P[0],D=P[1];(0,o.useEffect)((function(){if(""!==j){var e=j.split("-");D(e[0]),N(e[1]),F("".concat(parseInt(e[2])))}}),[j]),(0,o.useEffect)((function(){var e=function(e,n,t){var i=Date.parse("".concat(e,"-").concat(n,"-").concat(t));if(isNaN(i))return[!1,""];var o=parseInt(n),a=parseInt(t),r=o<10?"0".concat(o):o,s=a<10?"0".concat(a):a,c=new Date(i).toISOString().split("T")[0],l="".concat(e,"-").concat(r,"-").concat(s);return[c===l,l]}(O,k,_),n=(0,p.Z)(e,2),t=n[0],i=n[1];b(i,t)}),[k,_,O,b]);var B=function(){N(""),F(""),D("")},R=function(){return s||!!u&&!y};return(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:(0,oe.Z)(t.fieldContainer,(0,ie.Z)({},t.fieldContainerBorder,x)),children:[(0,L.jsx)("div",{className:t.labelContainer,children:(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsxs)(ae.Z,{htmlFor:i,className:t.inputLabel,children:[(0,L.jsx)("span",{children:a}),""!==h&&(0,L.jsx)("div",{className:t.tooltipContainer,children:(0,L.jsx)(c.Z,{title:h,placement:"top-start",children:(0,L.jsx)("div",{className:t.tooltip,children:(0,L.jsx)(le.Z,{})})})})]}),u&&(0,L.jsx)(ne.Z,{indicatorLabels:["Specific Date","Default (7 Days)"],checked:y,value:"date_enabled",id:"date-status",name:"date-status",onChange:function(e){C(e.target.checked),e.target.checked||b("",!0)},switchOnly:!0})]})}),(0,L.jsxs)("div",{children:[(0,L.jsx)(re.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(se.Z,{id:"".concat(i,"-month"),name:"".concat(i,"-month"),value:k,displayEmpty:!0,onChange:function(e){N(e.target.value)},input:(0,L.jsx)(de,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Month>"}),q.map((function(e){return(0,L.jsx)(M.Z,{value:e.value,children:e.label},"select-".concat(i,"-monthOP-").concat(e.label))}))]})}),(0,L.jsx)(re.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(se.Z,{id:"".concat(i,"-day"),name:"".concat(i,"-day"),value:_,displayEmpty:!0,onChange:function(e){F(e.target.value)},input:(0,L.jsx)(de,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Day>"}),X.map((function(e){return(0,L.jsx)(M.Z,{value:e,children:e},"select-".concat(i,"-dayOP-").concat(e))}))]})}),(0,L.jsx)(re.Z,{disabled:R(),className:t.dateInput,children:(0,L.jsxs)(se.Z,{id:"".concat(i,"-year"),name:"".concat(i,"-year"),value:O,displayEmpty:!0,onChange:function(e){D(e.target.value)},input:(0,L.jsx)(de,{}),children:[(0,L.jsx)(M.Z,{value:"",disabled:!0,children:"<Year>"}),$.map((function(e){return(0,L.jsx)(M.Z,{value:e,children:e},"select-".concat(i,"-yearOP-").concat(e))}))]})})]})]})})),fe=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({dateInput:{"&:not(:last-child)":{marginRight:22}}},h.YI),h.Hr),{},{labelContainer:{flex:1},fieldContainer:(0,i.Z)((0,i.Z)({},h.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),fieldContainerBorder:{borderBottom:"#9c9c9c 1px solid",marginBottom:20}}))}))(ue),he=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK),{},{dateSelector:{"& div":{borderBottom:0,marginBottom:0,"& div:nth-child(2)":{border:"1px solid #EAEAEA",paddingLeft:5,"& div":{border:0}}}}}))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,r=e.objectName,s=e.objectInfo,c=e.bucketName,l=(0,a.I0)(),u=(0,o.useState)(!0),f=(0,p.Z)(u,2),h=f[0],m=f[1],x=(0,o.useState)(""),b=(0,p.Z)(x,2),j=b[0],Z=b[1],y=(0,o.useState)(""),C=(0,p.Z)(y,2),S=C[0],w=C[1],N=(0,o.useState)(!1),E=(0,p.Z)(N,2),I=E[0],_=E[1],F=(0,o.useState)(!1),P=(0,p.Z)(F,2),O=P[0],D=P[1],B=(0,o.useState)(!1),R=(0,p.Z)(B,2),z=R[0],A=R[1];(0,o.useEffect)((function(){if(s.retention_mode&&(Z(s.retention_mode.toLowerCase()),A(!0)),s.retention_until_date){var e=new Date(s.retention_until_date);if("Invalid Date"!==e.toString()){var n=e.getFullYear(),t=(o=e.getMonth()+1)<10?"0".concat(o):"".concat(o),i=e.getDate();isNaN(i)||"NaN"===t||isNaN(n)||w("".concat(n,"-").concat(t,"-").concat(i))}A(!0)}var o}),[s]);var M=(0,o.useRef)(null),U=function(){m(!1),Z(""),M.current&&M.current.resetDate()},W=z&&("governance"===j||""===j);return(0,L.jsxs)(ee.Z,{title:"Set Retention Policy",modalOpen:t,onClose:function(){U(),i(!1)},children:[(0,L.jsxs)("div",{className:n.spacerBottom,children:[(0,L.jsx)("strong",{children:"Selected Object"}),": ",r]}),(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:[W&&(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(ne.Z,{value:"status",id:"status",name:"status",checked:h,onChange:function(e){m(!h)},label:"Status",indicatorLabels:["Enabled","Disabled"]})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(te.Z,{currentSelection:j,id:"type",name:"type",label:"Type",disableOptions:!h||z&&""!==j,onChange:function(e){Z(e.target.value)},selectorOptions:[{label:"Governance",value:"governance"},{label:"Compliance",value:"compliance"}]})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:"".concat(n.dateSelector," "),children:(0,L.jsx)(fe,{id:"date",label:"Date",disableOptions:!(h&&("governance"===j||"compliance"===j)),ref:M,value:S,borderBottom:!0,onDateChange:function(e,n){_(n),n&&w(e)}})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,L.jsx)(k.Z,{type:"button",variant:"outlined",color:"primary",onClick:U,children:"Reset"}),(0,L.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",disabled:h&&""===j||h&&!I||O,onClick:function(){D(!0);var e=s.name,n=s.version_id,t=h||"governance"!==j?"".concat(S,"T23:59:59Z"):"";h||"governance"!==j?function(e,n,t){v.Z.invoke("PUT","/api/v1/buckets/".concat(c,"/objects/retention?prefix=").concat((0,g.LL)(e),"&version_id=").concat(n),{expires:t,mode:j}).then((function(e){D(!1),i(!0)})).catch((function(e){l((0,T.zb)(e)),D(!1)}))}(e,n,t):function(e,n){v.Z.invoke("DELETE","/api/v1/buckets/".concat(c,"/objects/retention?prefix=").concat((0,g.LL)(e),"&version_id=").concat(n)).then((function(){D(!1),i(!0)})).catch((function(e){l((0,T.zb)(e)),D(!1)}))}(e,n)},children:"Save"})]})]})]})})),me=t(51691),pe=t(2148),xe=t(9505),be=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,r=e.selectedObject,s=e.versioning,c=e.selectedVersion,l=void 0===c?"":c,d=(0,a.I0)(),u=(0,xe.Z)((function(){return n(!0)}),(function(e){return d((0,T.Ih)(e))})),f=(0,p.Z)(u,2),h=f[0],m=f[1],x=(0,o.useState)(!1),b=(0,p.Z)(x,2),v=b[0],j=b[1];if(!r)return null;return(0,L.jsx)(pe.Z,{title:"Delete Object",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(N.NvT,{}),isLoading:h,onConfirm:function(){var e=(0,g.IO)(r).endsWith("/");m("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(r).concat(""!==l?"&version_id=".concat(l):"&recursive=".concat(e,"&all_versions=").concat(v)))},onClose:function(){return n(!1)},confirmationContent:(0,L.jsxs)(me.Z,{children:["Are you sure you want to delete: ",(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:(0,g.IO)(r)})," ",""!==l?(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),"Version ID:",(0,L.jsx)("br",{}),(0,L.jsx)("strong",{children:l})]}):"","? ",(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),s&&""===l&&(0,L.jsx)(ne.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:v,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){j(!v)},description:""})]})})},ve=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,r=e.objectName,s=e.bucketName,c=e.actualInfo,l=(0,a.I0)(),u=(0,o.useState)(!1),h=(0,p.Z)(u,2),m=h[0],x=h[1],b=(0,o.useState)(!1),j=(0,p.Z)(b,2),Z=j[0],y=j[1],C=c.version_id;(0,o.useEffect)((function(){var e=f()(c,"legal_hold_status","OFF");x("ON"===e)}),[c]);var S=function(){x(!1)};return(0,L.jsxs)(ee.Z,{title:"Set Legal Hold",modalOpen:t,onClose:function(){S(),i(!1)},children:[(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.spacerBottom,children:["Object: ",s]}),(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),y(!0),v.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/legalhold?prefix=").concat((0,g.LL)(r),"&version_id=").concat(C),{status:m?"enabled":"disabled"}).then((function(){y(!1),i(!0)})).catch((function(e){l((0,T.zb)(e)),y(!1)}))}(e)},children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,L.jsx)(ne.Z,{value:"legalhold",id:"legalhold",name:"legalhold",checked:m,onChange:function(e){x(!m)},label:"Legal Hold Status",indicatorLabels:["Enabled","Disabled"],tooltip:"To enable this feature you need to enable versioning on the bucket before creation"})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,L.jsx)(k.Z,{type:"button",color:"primary",variant:"outlined",onClick:S,children:"Clear"}),(0,L.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",disabled:Z,children:"Save"})]})]})]})})),je=t(78562),ge=t(79836),Ze=t(53382),ye=t(35855),Ce=t(53994),Se=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({propertiesIcon:{marginLeft:5,"& .min-icon":{height:12}},capitalizeFirst:{textTransform:"capitalize","& .min-icon":{width:16,height:16}},titleItem:{width:"35%"}},h.bK),h.$b))}))((function(e){var n=e.bucketName,t=e.internalPaths,i=e.classes,a=e.actualInfo,r=e.linear,s=void 0!==r&&r,c=(0,o.useState)({}),l=(0,p.Z)(c,2),u=l[0],h=l[1],m=(0,xe.Z)((function(e){var n=f()(e,"objectMetadata",{});h(n)}),(function(e){return!1})),x=(0,p.Z)(m,2)[1],b=Object.keys(u),v=(0,o.useCallback)((function(){x("GET","/api/v1/buckets/".concat(n,"/objects/metadata?prefix=").concat(t))}),[n,t,a]);return(0,o.useEffect)((function(){a&&v()}),[a,v]),s?(0,L.jsx)(o.Fragment,{children:b.map((function(e,n){var t=Array.isArray(u[e])?u[e].map(decodeURIComponent).join(", "):decodeURIComponent(u[e]);return(0,L.jsxs)(K.Z,{className:i.metadataLinear,children:[(0,L.jsx)("strong",{children:e}),(0,L.jsx)("br",{}),t]},"box-meta-".concat(e,"-").concat(n.toString()))}))}):(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,sx:{marginTop:"25px",marginBottom:"5px"},children:(0,L.jsx)("h3",{style:{marginTop:"0",marginBottom:"0"},children:"Object Metadata"})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,children:(0,L.jsx)(ge.Z,{className:i.table,"aria-label":"simple table",children:(0,L.jsx)(Ze.Z,{children:b.map((function(e,n){var t=Array.isArray(u[e])?u[e].map(decodeURIComponent).join(", "):decodeURIComponent(u[e]);return(0,L.jsxs)(ye.Z,{children:[(0,L.jsx)(Ce.Z,{component:"th",scope:"row",className:i.titleItem,children:e}),(0,L.jsx)(Ce.Z,{align:"right",children:t})]},"tRow-".concat(n.toString()))}))})})})]})})),we=t(45987),ke=["disabled","onClick","icon","label","classes"],Ne=(0,s.Z)((function(e){return(0,r.Z)({root:{padding:"0 15px",height:22,margin:0,color:"#5E5E5E",fontWeight:"normal",fontSize:14,whiteSpace:"nowrap",width:"100%",justifyContent:"flex-start","&:hover":{backgroundColor:"transparent",color:"#000"},"& .min-icon":{width:11},"&:disabled":{color:"#EBEBEB",borderColor:"#EBEBEB"}}})}))((function(e){var n=e.disabled,t=e.onClick,o=e.icon,a=e.label,r=e.classes,s=(0,we.Z)(e,ke);return(0,L.jsx)(k.Z,(0,i.Z)((0,i.Z)({},s),{},{disabled:n,onClick:t,className:r.root,startIcon:o,children:(0,L.jsx)("span",{className:"buttonItem",children:a})}))})),Ee=(0,s.Z)((function(){return(0,r.Z)((0,i.Z)({},h.$b))}))((function(e){var n=e.items,t=e.classes,i=e.title;return(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("div",{className:t.titleLabel,children:i}),(0,L.jsxs)("ul",{className:t.objectActions,children:[(0,L.jsx)("li",{children:"Actions:"}),n.map((function(e,n){return(0,L.jsx)("li",{children:(0,L.jsx)(Ne,{label:e.label,icon:e.icon,onClick:e.action,disabled:e.disabled})},"action-element-".concat(n.toString()))}))]})]})})),Ie=t(37762),_e=t(71863),Fe=t(82314),Te=(0,s.Z)((function(e){return(0,r.Z)({fileName:{display:"flex",alignItems:"center","& .min-icon":{width:16,height:16,marginRight:4}},fileNameText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})}))((function(e){return(0,L.jsxs)("div",{className:e.classes.fileName,children:[e.icon,(0,L.jsx)("span",{className:e.classes.fileNameText,children:e.strings[e.strings.length-1]})]})})),Pe=o.lazy((function(){return Promise.resolve().then(t.bind(t,76181))})),Le=o.lazy((function(){return Promise.resolve().then(t.bind(t,49563))})),Oe=o.lazy((function(){return Promise.resolve().then(t.bind(t,21733))})),De=o.lazy((function(){return Promise.resolve().then(t.bind(t,95232))})),Be=o.lazy((function(){return Promise.resolve().then(t.bind(t,27529))})),Re=o.lazy((function(){return Promise.resolve().then(t.bind(t,60527))})),ze=o.lazy((function(){return Promise.resolve().then(t.bind(t,69812))})),Ae=o.lazy((function(){return Promise.resolve().then(t.bind(t,46454))})),Me=o.lazy((function(){return Promise.resolve().then(t.bind(t,84820))})),Ue=o.lazy((function(){return Promise.resolve().then(t.bind(t,40599))})),We=o.lazy((function(){return Promise.resolve().then(t.bind(t,72995))})),Ge=o.lazy((function(){return Promise.resolve().then(t.bind(t,34171))})),He=o.lazy((function(){return Promise.resolve().then(t.bind(t,30745))})),Ve=o.lazy((function(){return Promise.resolve().then(t.bind(t,84033))})),Ke=o.lazy((function(){return Promise.resolve().then(t.bind(t,52009))})),Je=[{icon:(0,L.jsx)(He,{}),extensions:["mp4","mov","avi","mpeg","mpg"]},{icon:(0,L.jsx)(Me,{}),extensions:["mp3","m4a","aac"]},{icon:(0,L.jsx)(Ue,{}),extensions:["pdf"]},{icon:(0,L.jsx)(We,{}),extensions:["ppt","pptx"]},{icon:(0,L.jsx)(Ve,{}),extensions:["xls","xlsx"]},{icon:(0,L.jsx)(ze,{}),extensions:["cer","crt","pem"]},{icon:(0,L.jsx)(Le,{}),extensions:["html","xml","css","py","go","php","cpp","h","java"]},{icon:(0,L.jsx)(Oe,{}),extensions:["cfg","yaml"]},{icon:(0,L.jsx)(De,{}),extensions:["sql"]},{icon:(0,L.jsx)(Be,{}),extensions:["ttf","otf"]},{icon:(0,L.jsx)(Ge,{}),extensions:["txt"]},{icon:(0,L.jsx)(Ke,{}),extensions:["zip","rar","tar","gz"]},{icon:(0,L.jsx)(Pe,{}),extensions:["epub","mobi","azw","azw3"]},{icon:(0,L.jsx)(Re,{}),extensions:["jpeg","jpg","gif","tiff","png","heic","dng"]}],Ye=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e,i=(0,L.jsx)(_e.Z,{});e.endsWith("/")&&(i=(0,L.jsx)(Fe.Z,{}),t=e.slice(0,-1));var o,a=e.toLowerCase(),r=(0,Ie.Z)(Je);try{for(r.s();!(o=r.n()).done;){var s,c=o.value,l=(0,Ie.Z)(c.extensions);try{for(l.s();!(s=l.n()).done;){var d=s.value;a.endsWith(".".concat(d))&&(i=c.icon)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){r.e(f)}finally{r.f()}!e.endsWith("/")&&e.indexOf(".")<0&&(i=(0,L.jsx)(Ae,{}));var u=t.split("/");return n?i:(0,L.jsx)(Te,{icon:i,strings:u})},qe=t(21435),Xe=t(81918),Qe=t(29823),$e=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({newTileHeader:{fontSize:18,fontWeight:"bold",color:"#000",margin:"35px 0",paddingBottom:15,display:"flex",alignItems:"center","& > svg":{marginRight:10}},tagsForLabel:{fontSize:16,margin:"20px 0 30px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},currentTagsContainer:{fontSize:14,fontWeight:"normal"},noTagsForObject:{color:"#858585"},deleteTag:{color:"#C83B51",marginLeft:5}},h.DF),h.ID),h.bK))}))((function(e){var n=e.modalOpen,t=e.onCloseAndUpdate,r=e.bucketName,s=e.actualInfo,c=e.classes,l=(0,a.I0)(),u=(0,a.v9)((function(e){return e.system.distributedSetup})),h=(0,o.useState)(""),m=(0,p.Z)(h,2),x=m[0],b=m[1],j=(0,o.useState)(""),Z=(0,p.Z)(j,2),y=Z[0],C=Z[1],S=(0,o.useState)(!1),w=(0,p.Z)(S,2),_=w[0],F=w[1],P=(0,o.useState)(!1),O=(0,p.Z)(P,2),D=O[0],B=O[1],R=(0,o.useState)(""),z=(0,p.Z)(R,2),A=z[0],M=z[1],U=(0,o.useState)(""),W=(0,p.Z)(U,2),G=W[0],H=W[1],V=(0,g.LL)(s.name),J=s.tags,Y=Object.keys(J||{}),q=s.name.split("/").pop()||"",X=function(e){return(0,L.jsxs)("div",{className:c.tagsForLabel,children:["Tag",e?"s":""," for: ",(0,L.jsx)("strong",{children:q})]})};return(0,L.jsx)(o.Fragment,{children:(0,L.jsx)(ee.Z,{modalOpen:n,title:D?(0,L.jsx)("span",{style:{color:"#C83B51"},children:"Delete Tag"}):"Edit Tags",onClose:function(){t(!0)},titleIcon:D?(0,L.jsx)(N.dRf,{style:{fill:"#C83B51"}}):(0,L.jsx)(N.T0F,{}),children:D?(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)(d.ZP,{container:!0,children:[X(!1),"Are you sure you want to delete the tag"," ",(0,L.jsxs)("b",{className:c.deleteTag,children:[A," : ",G]})," ","?",(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,L.jsx)(k.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){M(""),H(""),B(!1)},children:"Cancel"}),(0,L.jsx)(k.Z,{type:"submit",variant:"outlined",color:"secondary",onClick:function(){var e=(0,i.Z)({},J);delete e[A];var n=u?s.version_id:"null";v.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat(V,"&version_id=").concat(n),{tags:e}).then((function(e){t(!0),F(!1)})).catch((function(e){l((0,T.zb)(e)),F(!1)}))},id:"deleteTag",children:"Delete Tag"})]})]})}):(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_TAGGING],resource:r,children:(0,L.jsxs)(K.Z,{sx:{display:"flex",flexFlow:"column",width:"100%"},children:[X(!0),(0,L.jsxs)("div",{className:c.currentTagsContainer,children:["Current Tags:",(0,L.jsx)("br",{}),0===Y.length?(0,L.jsx)("span",{className:c.noTagsForObject,children:"There are no tags for this object"}):(0,L.jsx)(o.Fragment,{}),(0,L.jsx)(K.Z,{sx:{marginTop:"5px",marginBottom:"15px"},children:Y.map((function(e,n){var t=f()(J,"".concat(e),"");return""!==t?(0,L.jsx)(E.s,{scopes:[I.Ft.S3_DELETE_OBJECT_TAGGING],resource:r,matchAll:!0,errorProps:{deleteIcon:null,onDelete:null},children:(0,L.jsx)(Xe.Z,{style:{textTransform:"none",marginRight:"5px",marginBottom:"5px"},size:"small",label:"".concat(e," : ").concat(t),color:"primary",deleteIcon:(0,L.jsx)(Qe.Z,{}),onDelete:function(){!function(e,n){M(e),H(n),B(!0)}(e,t)}})},"chip-".concat(n)):null}))})]})]})}),(0,L.jsx)(E.s,{scopes:[I.Ft.S3_PUT_OBJECT_TAGGING],resource:r,errorProps:{disabled:!0,onClick:null},children:(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:c.newTileHeader,children:[(0,L.jsx)(N.OCT,{})," Add New Tag"]}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(qe.Z,{value:x,label:"Tag Key",id:"newTagKey",name:"newTagKey",placeholder:"Enter Tag Key",onChange:function(e){b(e.target.value)}})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:c.formFieldRow,children:(0,L.jsx)(qe.Z,{value:y,label:"Tag Label",id:"newTagLabel",name:"newTagLabel",placeholder:"Enter Tag Label",onChange:function(e){C(e.target.value)}})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:c.modalButtonBar,children:[(0,L.jsx)(k.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){C(""),b("")},children:"Clear"}),(0,L.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",disabled:""===y.trim()||""===x.trim()||_,onClick:function(){F(!0);var e={};e[x]=y;var n=(0,i.Z)((0,i.Z)({},J),e),o=u?s.version_id:"null";v.Z.invoke("PUT","/api/v1/buckets/".concat(r,"/objects/tags?prefix=").concat(V,"&version_id=").concat(o),{tags:n}).then((function(e){t(!0),F(!1)})).catch((function(e){l((0,T.zb)(e)),F(!1)}))},id:"saveTag",children:"Save"})]})]})})]})})})})),en=t(15861),nn=t(87757),tn=t.n(nn),on=t(73669),an=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.DF),h.ID),h.bK))}))((function(e){var n=e.classes,t=e.closeInspectModalAndRefresh,i=e.inspectOpen,r=e.inspectPath,s=e.volumeName,c=(0,a.I0)(),l=function(){return t(!1)},u=(0,o.useState)(!0),f=(0,p.Z)(u,2),h=f[0],m=f[1],x=(0,o.useState)(""),b=(0,p.Z)(x,2),v=b[0],j=b[1],Z=(0,o.useState)(""),y=(0,p.Z)(Z,2),C=y[0],S=y[1];if(!r)return null;var w=function(){var e=(0,en.Z)(tn().mark((function e(n){return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=(0,en.Z)(tn().mark((function e(){var n,t,i;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,g.LL)(r+"/xl.meta"),t=(0,g.LL)(s),i="/api/v1/admin/inspect?volume=".concat(t,"&file=").concat(n,"&encrypt=").concat(h),w(i).then(function(){var e=(0,en.Z)(tn().mark((function e(n){var t,i,o,a;return tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.ok){e.next=5;break}return e.next=3,n.json();case 3:t=e.sent,c((0,T.Ih)({errorMessage:t.message,detailedError:t.code}));case 5:return e.next=7,n.blob();case 7:if(i=e.sent,o=n.headers.get("content-disposition").split('"')[1],a=(0,g.Do)(o)||"",(0,g.zZ)(i,o),S(o),""!==a){e.next=15;break}return l(),e.abrupt("return");case 15:j(a);case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){c((0,T.Ih)(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(o.Fragment,{children:[!v&&(0,L.jsx)(ee.Z,{modalOpen:i,titleIcon:(0,L.jsx)(J.Gp,{}),title:"Inspect Object",onClose:l,children:(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:["Would you like to encrypt ",(0,L.jsx)("b",{children:(0,g.IO)(r)}),"?"," ",(0,L.jsx)("br",{}),(0,L.jsx)(ne.Z,{label:"Encrypt",indicatorLabels:["Yes","No"],checked:h,value:"encrypt",id:"encrypt",name:"encrypt",onChange:function(e){m(!h)},description:""}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:(0,L.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",onClick:E,children:"Inspect"})})]})}),v?(0,L.jsx)(ee.Z,{modalOpen:i,title:"Inspect Decryption Key",onClose:function(){(0,g.kT)(C),l(),j("")},titleIcon:(0,L.jsx)(N.tvm,{}),children:(0,L.jsxs)(me.Z,{children:[(0,L.jsxs)(K.Z,{children:["This will be displayed only once. It cannot be recovered.",(0,L.jsx)("br",{}),"Use secure medium to share this key."]}),(0,L.jsx)(K.Z,{children:(0,L.jsx)(on.Z,{value:v})})]})}):null]})})),rn=t(72401),sn=t(40986),cn=t(92217),ln=t(10703),dn=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)({buttonContainer:{textAlign:"right"},pageContainer:{border:"1px solid #EAEAEA",height:"100%"},paperContainer:{padding:"15px 15px 15px 50px",minHeight:"450px"},statement:{border:"1px solid #DADADA",padding:8,marginBottom:8,borderRadius:4},labelCol:{fontWeight:"bold"}},h.oO),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.open,i=e.closeModalAndRefresh,r=e.objectName,s=e.bucketName,c=(0,a.I0)(),l=(0,o.useState)(""),u=(0,p.Z)(l,2),f=u[0],h=u[1],m=(0,o.useState)(!0),x=(0,p.Z)(m,2),b=x[0],j=x[1],Z=(0,o.useState)(!1),y=(0,p.Z)(Z,2),C=y[0],S=y[1],w=(0,E.F)(I.C3,[I.Ft.S3_PUT_BUCKET_ACL]);return(0,o.useEffect)((function(){b&&v.Z.invoke("GET","/api/v1/buckets/".concat(s,"/objects/acl?prefix=").concat((0,g.LL)(r))).then((function(e){j(!1),h(JSON.stringify(JSON.parse(e),null,4))})).catch((function(e){j(!1),c((0,T.Ih)(e))}))}),[b,j,c,s,r]),(0,L.jsx)(ee.Z,{title:"ACL Object",modalOpen:t,onClose:function(){i(!1)},children:(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("div",{className:n.sectionTitle,children:"ACL Content"}),(0,L.jsx)(ln.Z,{className:n.paperContainer,children:(0,L.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),C||(S(!0),w?v.Z.invoke("PUT","/api/v1/buckets/".concat(s,"/objects/acl?prefix=").concat((0,g.LL)(r)),{aclstr:f}).then((function(e){S(!1),c((0,T.y1)("ACL successfully updated"))})).catch((function(e){S(!1),c((0,T.Ih)(e))})):S(!1))},children:(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,L.jsx)(cn.Z,{readOnly:!w,value:f,onBeforeChange:function(e,n,t){h(t)},editorHeight:"350px"})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,L.jsx)("button",{type:"button",color:"primary",className:n.clearButton,onClick:function(){h("{}")},children:"Clear"}),(0,L.jsx)(E.s,{scopes:[I.Ft.S3_PUT_BUCKET_ACL],resource:I.C3,errorProps:{disabled:!0},children:(0,L.jsx)(k.Z,{type:"submit",variant:"contained",color:"primary",disabled:C,children:"Save"})})]}),(C||b)&&(0,L.jsx)(d.ZP,{item:!0,xs:12,children:(0,L.jsx)(sn.Z,{})})]})})})]})})})),un=t(76610),fn={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},hn=(0,s.Z)((function(){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({ObjectDetailsTitle:{display:"flex",alignItems:"center"},objectNameContainer:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",alignItems:"center",marginLeft:10},headerForSection:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,borderBottom:"#E2E2E2 2px solid",fontWeight:"bold",fontSize:18,color:"#000",margin:"20px 22px"},capitalizeFirst:{textTransform:"capitalize"}},h.Si),h.OR),h.bK),h.VI),h.$b))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,r=e.versioning,s=e.locking,c=e.onClosePanel,l=(0,a.I0)(),u=(0,a.v9)((function(e){return e.system.distributedSetup})),h=(0,a.v9)((function(e){return e.objectBrowser.versionsMode})),m=(0,a.v9)((function(e){return e.objectBrowser.selectedVersion})),x=(0,a.v9)((function(e){return e.objectBrowser.loadingObjectInfo})),b=(0,o.useState)(!1),j=(0,p.Z)(b,2),Z=j[0],y=j[1],C=(0,o.useState)(!1),S=(0,p.Z)(C,2),w=S[0],_=S[1],F=(0,o.useState)(!1),T=(0,p.Z)(F,2),O=T[0],D=T[1],R=(0,o.useState)(!1),z=(0,p.Z)(R,2),A=z[0],M=z[1],U=(0,o.useState)(!1),W=(0,p.Z)(U,2),G=W[0],H=W[1],V=(0,o.useState)(null),q=(0,p.Z)(V,2),X=q[0],Q=q[1],$=(0,o.useState)([]),ee=(0,p.Z)($,2),ne=ee[0],te=ee[1],ie=(0,o.useState)(null),oe=(0,p.Z)(ie,2),ae=oe[0],re=oe[1],se=(0,o.useState)([]),ce=(0,p.Z)(se,2),le=ce[0],de=ce[1],ue=(0,o.useState)(!1),fe=(0,p.Z)(ue,2),me=fe[0],pe=fe[1],xe=(0,o.useState)(!1),ge=(0,p.Z)(xe,2),Ze=ge[0],ye=ge[1],Ce=(0,o.useState)(0),we=(0,p.Z)(Ce,2),ke=we[0],Ne=we[1],Ie=(0,o.useState)(!1),_e=(0,p.Z)(Ie,2),Fe=_e[0],Te=_e[1],Pe=((0,g.IO)(t)||"").split("/").pop()||"",Le=[];X&&(Le=X.name.split("/")),(0,o.useEffect)((function(){if(u&&ne&&ne.length>=1){var e=ne.find((function(e){return e.is_latest}))||fn;""!==m&&(e=ne.find((function(e){return e.version_id===m}))||fn),Q(e)}}),[m,u,ne]),(0,o.useEffect)((function(){x&&""!==t&&v.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(u?"&with_versions=true":"")).then((function(e){var n=f()(e,"objects",[]);if(u){te(n),de(n);var t=n.reduce((function(e,n){return null!==n&&void 0!==n&&n.size?e+n.size:e}),0);Ne(t)}else Q(n[0]),de([]);l((0,P.vH)(!1))})).catch((function(e){console.error("Error loading object details",e),l((0,P.vH)(!1))}))}),[x,i,t,l,u,m]);var Oe=[];X&&X.tags&&(Oe=Object.keys(X.tags));var De=(0,L.jsx)("div",{style:{textAlign:"center",marginTop:35},children:(0,L.jsx)(rn.Z,{})});if(!X)return x?De:null;var Be=Le.length>0?Le[Le.length-1]:X.name,Re=[i,Pe,[i,X.name].join("/")],ze=[{action:function(){!function(e){var n=(0,g.LL)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),o=(0,B.LR)(i,t,e.version_id,parseInt(e.size||"0"),(function(e){l((0,P.RO)({instanceID:n,progress:e}))}),(function(){l((0,P.oK)(n))}),(function(){l((0,P.qJ)(n))}),(function(){l((0,P.Im)(n))})),a=(0,un.YO)(8);(0,un.EN)(a,o),l((0,P.Mc)({ID:a,bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1})),o.send()}(X)},label:"Download",disabled:!!X.is_delete_marker||!(0,E.F)(Re,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(N._8t,{}),tooltip:"Download this Object"},{action:function(){y(!0)},label:"Share",disabled:!!X.is_delete_marker||!(0,E.F)(Re,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(N.aAc,{}),tooltip:"Share this File"},{action:function(){ye(!0)},label:"Preview",disabled:!!X.is_delete_marker||"none"===(0,B.Bg)(Pe)||!(0,E.F)(Re,[I.Ft.S3_GET_OBJECT]),icon:(0,L.jsx)(N.P99,{}),tooltip:"Preview this File"},{action:function(){M(!0)},label:"Legal Hold",disabled:!s||!u||!!X.is_delete_marker||!(0,E.F)(i,[I.Ft.S3_PUT_OBJECT_LEGAL_HOLD])||""!==m,icon:(0,L.jsx)(N.fNL,{}),tooltip:"Change Legal Hold rules for this File"},{action:function(){_(!0)},label:"Retention",disabled:!u||!!X.is_delete_marker||!(0,E.F)(Re,[I.Ft.S3_GET_OBJECT_RETENTION])||""!==m,icon:(0,L.jsx)(N.E9d,{}),tooltip:"Change Retention rules for this File"},{action:function(){D(!0)},label:"Tags",disabled:!!X.is_delete_marker||""!==m||!(0,E.F)(Re,[I.Ft.S3_PUT_OBJECT_TAGGING]),icon:(0,L.jsx)(N.DgT,{}),tooltip:"Change Tags for this File"},{action:function(){H(!0)},label:"Inspect",disabled:!u||!!X.is_delete_marker||""!==m||!(0,E.F)(Re,[I.Ft.ADMIN_INSPECT_DATA]),icon:(0,L.jsx)(J.Gp,{}),tooltip:"Inspect this file"},{action:function(){l((0,P.db)({status:!h,objectName:Be}))},label:h?"Hide Object Versions":"Display Object Versions",icon:(0,L.jsx)(N.cRd,{}),disabled:!u||!(X.version_id&&"null"!==X.version_id)||!(0,E.F)(Re,[I.Ft.S3_GET_BUCKET_VERSIONING,I.Ft.S3_PUT_BUCKET_VERSIONING,I.Ft.S3_GET_OBJECT_VERSION]),tooltip:"Display Versions for this file"},{action:function(){Te(!0)},label:"ACL",disabled:!!X.is_delete_marker||!(0,E.F)(Re,[I.Ft.S3_GET_OBJECT_ACL]),icon:(0,L.jsx)(N.QXQ,{}),tooltip:"ACL this Object"}];return(0,L.jsxs)(o.Fragment,{children:[Z&&X&&(0,L.jsx)(Y.default,{open:Z,closeModalAndRefresh:function(){re(null),y(!1)},bucketName:i,dataObject:ae||X}),w&&X&&(0,L.jsx)(he,{open:w,closeModalAndRefresh:function(e){_(!1),e&&l((0,P.vH)(!0))},objectName:Pe,objectInfo:X,bucketName:i}),me&&(0,L.jsx)(be,{deleteOpen:me,selectedBucket:i,selectedObject:t,closeDeleteModalAndRefresh:function(e){pe(!1),e&&""===m?c(!0):(l((0,P.Eq)(!0)),l((0,P.M3)("")),l((0,P.vH)(!0)))},versioning:u&&r,selectedVersion:m}),A&&X&&(0,L.jsx)(ve,{open:A,closeModalAndRefresh:function(e){M(!1),e&&l((0,P.vH)(!0))},objectName:X.name,bucketName:i,actualInfo:X}),Ze&&X&&(0,L.jsx)(je.default,{open:Ze,bucketName:i,object:{name:X.name,version_id:X.version_id||"null",size:parseInt(X.size||"0"),content_type:"",last_modified:new Date(X.last_modified)},onClosePreview:function(){ye(!1)}}),O&&X&&(0,L.jsx)($e,{modalOpen:O,bucketName:i,actualInfo:X,onCloseAndUpdate:function(e){D(!1),e&&l((0,P.vH)(!0))}}),G&&X&&(0,L.jsx)(an,{inspectOpen:G,volumeName:i,inspectPath:X.name,closeInspectModalAndRefresh:function(e){H(!1),e&&l((0,P.vH)(!0))}}),Fe&&X&&(0,L.jsx)(dn,{open:Fe,closeModalAndRefresh:function(e){Te(!1),e&&l((0,P.vH)(!0))},objectName:X.name,bucketName:i}),x?(0,L.jsx)(o.Fragment,{children:De}):(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(Ee,{title:(0,L.jsxs)("div",{className:n.ObjectDetailsTitle,children:[Ye(Be,!0),(0,L.jsx)("span",{className:n.objectNameContainer,children:Be})]}),items:ze}),(0,L.jsx)(d.ZP,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,L.jsx)(E.s,{resource:[i,Pe,[i,X.name].join("/")],scopes:[I.Ft.S3_DELETE_OBJECT],errorProps:{disabled:!0},children:(0,L.jsxs)(k.Z,{startIcon:(0,L.jsx)(N.pJl,{}),color:"secondary",variant:"outlined",onClick:function(){pe(!0)},disabled:""===m&&X.is_delete_marker,sx:{width:"calc(100% - 44px)",margin:"8px 0","& svg.min-icon":{width:14,height:14}},children:["Delete",""!==m?" version":""]})})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.headerForSection,children:[(0,L.jsx)("span",{children:"Object Info"}),(0,L.jsx)(N.Gvh,{})]}),(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Name:"}),(0,L.jsx)("br",{}),Be]}),""!==m&&(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Version ID:"}),(0,L.jsx)("br",{}),m]}),(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Size:"}),(0,L.jsx)("br",{}),(0,g.ae)(X.size||"0")]}),X.version_id&&"null"!==X.version_id&&""===m&&(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Versions:"}),(0,L.jsx)("br",{}),le.length," version",1!==le.length?"s":"",","," ",(0,g.l5)(ke)]}),""===m&&(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Last Modified:"}),(0,L.jsx)("br",{}),function(e){var n=new Date,t=new Date(e),i=n.getTime()-t.getTime(),o=(0,g.nF)(i,"ms");return""!==o.trim()?"".concat(o," ago"):"Just now"}(X.last_modified)]}),(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"ETAG:"}),(0,L.jsx)("br",{}),X.etag||"N/A"]}),(0,L.jsxs)(K.Z,{className:n.detailContainer,children:[(0,L.jsx)("strong",{children:"Tags:"}),(0,L.jsx)("br",{}),0===Oe.length?"N/A":Oe.map((function(e,n){return(0,L.jsxs)("span",{children:[e,":",f()(X,"tags.".concat(e),""),n<Oe.length-1?", ":""]},"key-vs-".concat(n.toString()))}))]}),(0,L.jsx)(K.Z,{className:n.detailContainer,children:(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_LEGAL_HOLD],resource:i,children:(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("strong",{children:"Legal Hold:"}),(0,L.jsx)("br",{}),X.legal_hold_status?"On":"Off"]})})}),(0,L.jsx)(K.Z,{className:n.detailContainer,children:(0,L.jsx)(E.s,{scopes:[I.Ft.S3_GET_OBJECT_RETENTION],resource:i,children:(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)("strong",{children:"Retention Policy:"}),(0,L.jsx)("br",{}),(0,L.jsx)("span",{className:n.capitalizeFirst,children:(X.version_id&&X.version_id,(0,L.jsx)(o.Fragment,{children:X.retention_mode?X.retention_mode.toLowerCase():"None"}))})]})})}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.headerForSection,children:[(0,L.jsx)("span",{children:"Metadata"}),(0,L.jsx)(N.fRO,{})]}),(0,L.jsx)(K.Z,{className:n.detailContainer,children:X?(0,L.jsx)(Se,{bucketName:i,internalPaths:t,actualInfo:X,linear:!0}):null})]})]})})),mn=t(46431),pn=t.n(mn),xn=function(e){return e.name.endsWith("/")?"":(0,L.jsx)(pn(),{children:e.last_modified})},bn=function(e){return e.name.endsWith("/")||!e.size?"-":(0,g.ae)(String(e.size))},vn=[{label:"Name",elementKey:"name",renderFunction:Ye,enableSort:!0},{label:"Last Modified",elementKey:"last_modified",renderFunction:xn,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:bn,renderFullObject:!0,width:100,contentTextAlign:"center",enableSort:!0}],jn=[{label:"Name",elementKey:"name",renderFunction:Ye,enableSort:!0},{label:"Object Date",elementKey:"last_modified",renderFunction:xn,renderFullObject:!0,enableSort:!0},{label:"Size",elementKey:"size",renderFunction:bn,renderFullObject:!0,width:100,contentTextAlign:"center",enableSort:!0},{label:"Deleted",elementKey:"delete_flag",renderFunction:function(e){return e?"Yes":"No"},width:60,contentTextAlign:"center"}],gn=t(88878),Zn=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},h.oO))}))((function(e){var n=e.classes,t=e.versionID,i=e.bucketName,r=e.objectPath,s=e.restoreOpen,c=e.onCloseAndUpdate,l=(0,a.I0)(),d=(0,o.useState)(!1),u=(0,p.Z)(d,2),f=u[0],h=u[1];return(0,L.jsx)(pe.Z,{title:"Restore File Version",confirmText:"Restore",isOpen:s,isLoading:f,titleIcon:(0,L.jsx)(gn.Z,{}),onConfirm:function(){h(!0),v.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/objects/restore?prefix=").concat((0,g.LL)(r),"&version_id=").concat(t)).then((function(e){h(!1),c(!0)})).catch((function(e){l((0,T.Ih)(e)),h(!1)}))},confirmButtonProps:{color:"secondary",variant:"outlined",disabled:f},onClose:function(){c(!1)},confirmationContent:(0,L.jsxs)(me.Z,{id:"alert-dialog-description",children:["Are you sure you want to restore ",(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:r})," ",(0,L.jsx)("br",{})," with Version ID:",(0,L.jsx)("br",{}),(0,L.jsx)("b",{className:n.wrapText,children:t}),"?"]})})})),yn=function(e){var n="#000",t="";switch(e.type){case"null":n="#07193E",t="NULL VERSION";break;case"deleted":n="#868686",t="DELETED";break;default:n="#174551",t="CURRENT VERSION"}return(0,L.jsx)("span",{style:{backgroundColor:n,padding:"0 5px",display:"inline-block",color:"#FFF",fontWeight:"bold",fontSize:12,borderRadius:2,whiteSpace:"nowrap",margin:"0 10px"},children:t})},Cn=t(34866),Sn=(0,s.Z)((function(e){return(0,r.Z)({mainFileVersionItem:{borderBottom:"#E2E2E2 1px solid",padding:"1rem 0",margin:"0 0.5rem 0 2.5rem",cursor:"pointer","&.deleted":{color:"#868686"},"@media (max-width: 799px)":{padding:"5px 0px",margin:0}},intermediateLayer:{margin:"0 1.5rem 0 1.5rem","&:hover, &.selected":{backgroundColor:"#F8F8F8","& > div":{borderBottomColor:"#F8F8F8"}},"@media (max-width: 799px)":{margin:0,"&:hover, &.selected":{backgroundColor:"transparent","& > div":{borderBottomColor:"#E2E2E2"}}}},versionContainer:{fontSize:16,fontWeight:"bold",display:"flex",alignItems:"center","& svg.min-icon":{width:18,height:18,minWidth:18,minHeight:18,marginRight:10},"@media (max-width: 799px)":{fontSize:14,"& svg.min-icon":{display:"none"}}},buttonContainer:{textAlign:"right","& button":{marginLeft:"1.5rem"},"@media (max-width: 600px)":{"& button":{marginLeft:"5px"}}},versionID:{fontSize:"12px",margin:"2px 0",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden"},versionData:{marginRight:"10px",fontSize:12,color:"#868686","@media (max-width: 799px)":{textOverflow:"ellipsis",maxWidth:"95%",overflow:"hidden",whiteSpace:"nowrap"}},ctrItem:{position:"relative","&::before":{content:"' '",display:"block",position:"absolute",width:"2px",height:"calc(100% + 2px)",backgroundColor:"#F8F8F8",left:"24px"},"@media (max-width: 799px)":{"&::before":{display:"none"}}},collapsableInfo:{"@media (max-width: 799px)":{display:"flex",flexDirection:"column"}},versionItem:{"@media (max-width: 799px)":{display:"none"}}})}))((function(e){var n=e.classes,t=e.fileName,i=e.versionInfo,o=e.isSelected,a=e.checkable,r=e.isChecked,s=e.onCheck,u=e.onShare,f=e.onDownload,h=e.onRestore,m=e.onPreview,p=e.globalClick,x=e.index,b=e.key,v=e.style,j=i.is_delete_marker,Z=[{icon:(0,L.jsx)(N.P99,{}),action:m,tooltip:"Preview"},{icon:(0,L.jsx)(N._8t,{}),action:f,tooltip:"Download this version"},{icon:(0,L.jsx)(N.aAc,{}),action:u,tooltip:"Share this version"},{icon:(0,L.jsx)(N.D7Y,{}),action:h,tooltip:"Restore this version"}],y=null;return i.is_delete_marker?y="deleted":i.is_latest?y="current":"null"===i.version_id&&(y="null"),(0,L.jsx)(d.ZP,{container:!0,flex:1,className:n.ctrItem,onClick:function(){p(i)},style:v,children:(0,L.jsx)(d.ZP,{item:!0,xs:12,className:"".concat(n.intermediateLayer," ").concat(o?"selected":""),children:(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:"".concat(n.mainFileVersionItem," ").concat(i.is_delete_marker?"deleted":""),children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,justifyContent:"space-between",children:(0,L.jsxs)(d.ZP,{container:!0,children:[(0,L.jsxs)(d.ZP,{item:!0,xs:!0,md:4,className:n.versionContainer,children:[a&&(0,L.jsx)(Cn.Z,{checked:r,id:"select-".concat(i.version_id),label:"",name:"select-".concat(i.version_id),onChange:function(e){e.stopPropagation(),e.preventDefault(),s(i.version_id||"")},value:i.version_id||"",disabled:i.is_delete_marker,overrideCheckboxStyles:{paddingLeft:0,height:34,width:25},noTopMargin:!0}),Ye(t,!0)," v",x.toString(),(0,L.jsx)("span",{className:n.versionItem,children:y&&(0,L.jsx)(yn,{type:y})})]}),(0,L.jsx)(d.ZP,{item:!0,xs:10,md:8,className:n.buttonContainer,children:Z.map((function(e,t){return(0,L.jsx)(c.Z,{title:e.tooltip,children:(0,L.jsx)(l.Z,{size:"small",id:"version-action-".concat(e.tooltip,"-").concat(t.toString()),className:"".concat(n.spacing," ").concat(j?n.buttonDisabled:""),disabled:j,onClick:function(n){n.stopPropagation(),j?n.preventDefault():e.action(i)},sx:{backgroundColor:"#F8F8F8",borderRadius:"100%",width:"28px",height:"28px",padding:"5px","& .min-icon":{width:"14px",height:"14px"}},children:e.icon})},"version-action-".concat(e.tooltip,"-").concat(t.toString()))}))})]})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.versionID,children:"null"!==i.version_id?i.version_id:"-"}),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.collapsableInfo,children:[(0,L.jsxs)("span",{className:n.versionData,children:[(0,L.jsx)("strong",{children:"Last modified:"})," ",(0,L.jsx)(pn(),{children:i.last_modified})]}),(0,L.jsxs)("span",{className:n.versionData,children:[(0,L.jsx)("strong",{children:"Size:"})," ",(0,g.ae)(i.size||"0")]})]})]})})},b)})),wn=t(90673),kn=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,r=e.selectedObject,s=(0,a.I0)(),c=(0,o.useState)(!1),l=(0,p.Z)(c,2),u=l[0],f=l[1],h=(0,o.useState)(""),m=(0,p.Z)(h,2),x=m[0],b=m[1];if((0,o.useEffect)((function(){u&&v.Z.invoke("DELETE","/api/v1/buckets/".concat(i,"/objects?path=").concat(r,"&non_current_versions=true")).then((function(){n(!0)})).catch((function(e){s((0,T.Ih)(e)),f(!1)}))}),[u,n,s,r,i]),!r)return null;return(0,L.jsx)(pe.Z,{title:"Delete Non-Current versions",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(N.NvT,{}),isLoading:u,onConfirm:function(){f(!0)},onClose:function(){return n(!1)},confirmButtonProps:{disabled:"YES, PROCEED"!==x||u},confirmationContent:(0,L.jsxs)(me.Z,{children:["Are you sure you want to delete all the non-current versions for:"," ",(0,L.jsx)("b",{children:(0,g.IO)(r)}),"? ",(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),"To continue please type ",(0,L.jsx)("b",{children:"YES, PROCEED"})," in the box.",(0,L.jsx)(d.ZP,{item:!0,xs:12,children:(0,L.jsx)(qe.Z,{id:"type-confirm",name:"retype-tenant",onChange:function(e){b(e.target.value)},label:"",value:x})})]})})},Nn=function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,i=e.selectedBucket,r=e.selectedVersions,s=e.selectedObject,c=(0,a.I0)(),l=(0,o.useState)(!1),d=(0,p.Z)(l,2),u=d[0],f=d[1];return(0,o.useEffect)((function(){if(u){var e=r.map((function(e){return{path:s,versionID:e,recursive:!1}}));e.length>0&&v.Z.invoke("POST","/api/v1/buckets/".concat(i,"/delete-objects?all_versions=false"),e).then((function(){f(!1),n(!0)})).catch((function(e){c((0,T.Ih)(e)),f(!1)}))}}),[u,n,i,s,r,c]),r?(0,L.jsx)(pe.Z,{title:"Delete Selected Versions",confirmText:"Delete",isOpen:t,titleIcon:(0,L.jsx)(N.NvT,{}),isLoading:u,onConfirm:function(){f(!0)},onClose:function(){return n(!1)},confirmationContent:(0,L.jsxs)(me.Z,{children:["Are you sure you want to delete the selected ",r.length," ","versions for ",(0,L.jsx)("strong",{children:s}),"?"]})}):null},En=t(5171),In={is_latest:!0,last_modified:"",legal_hold_status:"",name:"",retention_mode:"",retention_until_date:"",size:"0",tags:{},version_id:null},_n=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({versionsContainer:{padding:10,"@media (max-width: 799px)":{minHeight:800}},noBottomBorder:{borderBottom:0},versionsVirtualPanel:{flexGrow:1,height:"calc(100% - 120px)",overflow:"auto","@media (max-width: 799px)":{height:600}},screenTitleContainer:{position:"relative","&::before":{content:"' '",display:"block",position:"absolute",width:"2px",backgroundColor:"#F8F8F8",left:"24px",height:"40px",bottom:0},"@media (max-width: 799px)":{"&::before":{display:"none"}}},sortByLabel:{color:"#838383",fontWeight:"bold",whiteSpace:"nowrap",marginRight:12,fontSize:14,"@media (max-width: 600px)":{display:"none"}}},h.bp),h.Si),h.OR),h.VX),h.bK),h.VI),h.cx),h.C4),(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.internalPaths,i=e.bucketName,r=(0,a.I0)(),s=(0,a.v9)((function(e){return e.objectBrowser.searchVersions})),c=(0,a.v9)((function(e){return e.objectBrowser.loadingVersions})),l=(0,a.v9)((function(e){return e.objectBrowser.selectedVersion})),u=(0,a.v9)((function(e){return e.system.distributedSetup})),h=(0,o.useState)(!1),x=(0,p.Z)(h,2),b=x[0],j=x[1],Z=(0,o.useState)(null),y=(0,p.Z)(Z,2),C=y[0],S=y[1],w=(0,o.useState)(null),k=(0,p.Z)(w,2),E=k[0],I=k[1],_=(0,o.useState)([]),F=(0,p.Z)(_,2),O=F[0],z=F[1],A=(0,o.useState)(!1),M=(0,p.Z)(A,2),U=M[0],W=M[1],H=(0,o.useState)(""),V=(0,p.Z)(H,2),K=V[0],J=V[1],q=(0,o.useState)("date"),X=(0,p.Z)(q,2),Q=X[0],$=X[1],ee=(0,o.useState)(!1),ne=(0,p.Z)(ee,2),te=ne[0],ie=ne[1],oe=(0,o.useState)(!1),ae=(0,p.Z)(oe,2),re=ae[0],se=ae[1],ce=(0,o.useState)(!1),le=(0,p.Z)(ce,2),de=le[0],ue=le[1],fe=(0,o.useState)([]),he=(0,p.Z)(fe,2),me=he[0],pe=he[1],xe=(0,o.useState)(!1),be=(0,p.Z)(xe,2),ve=be[0],ge=be[1],Ze=[];C&&(Ze=C.name.split("/")),(0,o.useEffect)((function(){c||C||r((0,P.Eq)(!0))}),[c,C,r]),(0,o.useEffect)((function(){c&&""!==t&&v.Z.invoke("GET","/api/v1/buckets/".concat(i,"/objects?prefix=").concat(t).concat(u?"&with_versions=true":"")).then((function(e){var n=f()(e,"objects",[]);u?(S(n.find((function(e){return e.is_latest}))||In),z(n)):(S(n[0]),z([])),r((0,P.Eq)(!1))})).catch((function(e){r((0,T.Ih)(e)),r((0,P.Eq)(!1))}))}),[c,i,t,r,u]);var ye=function(e){I(e),j(!0)},Ce=function(e){I(e),ie(!0)},Se=function(e){J(e.version_id||""),W(!0)},we=function(e){!function(e){var n=(0,g.LL)("".concat(i,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),o=(0,B.LR)(i,t,e.version_id,parseInt(e.size||"0"),(function(e){r((0,P.RO)({instanceID:n,progress:e}))}),(function(){r((0,P.oK)(n))}),(function(){r((0,P.qJ)(n))}),(function(){r((0,P.Im)(n))})),a=(0,un.YO)(8);(0,un.EN)(a,o),r((0,P.Mc)({ID:a,bucketName:i,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1})),o.send()}(e)},ke=function(e){r((0,P.M3)(e.version_id||""))},Ne=O.filter((function(e){return!!e.version_id&&e.version_id.includes(s)})),Ee=O.reduce((function(e,n){return n.size?e+parseInt(n.size):e}),0);Ne.sort((function(e,n){if("size"===Q)return e.size&&n.size?e.size<n.size?-1:e.size>n.size?1:0:0;var t=new Date(e.last_modified).getTime(),i=new Date(n.last_modified).getTime();return t<i?1:t>i?-1:0}));var Ie=function(e){if(me.includes(e)){var n=me.filter((function(n){return n!==e}));pe(n)}else{var t=(0,m.Z)(me);t.push(e),pe(t)}};return(0,L.jsxs)(o.Fragment,{children:[b&&C&&(0,L.jsx)(Y.default,{open:b,closeModalAndRefresh:function(){I(null),j(!1),ie(!1)},bucketName:i,dataObject:E||C}),U&&C&&(0,L.jsx)(Zn,{restoreOpen:U,bucketName:i,versionID:K,objectPath:C.name,onCloseAndUpdate:function(e){W(!1),J(""),e&&(r((0,P.Eq)(!0)),r((0,P.vH)(!0)))}}),te&&C&&(0,L.jsx)(je.default,{open:te,bucketName:i,object:{name:C.name,version_id:E&&E.version_id?E.version_id:"null",size:parseInt(E&&E.size?E.size:"0"),content_type:"",last_modified:new Date(C.last_modified)},onClosePreview:function(){ie(!1)}}),re&&(0,L.jsx)(kn,{deleteOpen:re,closeDeleteModalAndRefresh:function(e){se(!1),e&&(r((0,P.Eq)(!0)),r((0,P.M3)("")),r((0,P.vH)(!0)))},selectedBucket:i,selectedObject:t}),ve&&(0,L.jsx)(Nn,{selectedBucket:i,selectedObject:(0,g.IO)(t),deleteOpen:ve,selectedVersions:me,closeDeleteModalAndRefresh:function(e){ge(!1),e&&(r((0,P.Eq)(!0)),r((0,P.M3)("")),r((0,P.vH)(!0)),pe([]))}}),(0,L.jsxs)(d.ZP,{container:!0,className:n.versionsContainer,children:[!C&&(0,L.jsx)(d.ZP,{item:!0,xs:12,children:(0,L.jsx)(sn.Z,{})}),C&&(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,children:(0,L.jsx)(D,{bucketName:i,internalPaths:(0,g.IO)(t),existingFiles:[],hidePathButton:!0})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.screenTitleContainer,children:(0,L.jsx)(R.Z,{icon:(0,L.jsx)("span",{className:n.listIcon,children:(0,L.jsx)(N.cRd,{})}),title:(0,L.jsxs)("span",{className:n.titleSpacer,children:[Ze.length>0?Ze[Ze.length-1]:C.name," ","Versions"]}),subTitle:(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:n.bucketDetails,children:[(0,L.jsx)("span",{className:n.detailsSpacer,children:(0,L.jsxs)("strong",{children:[O.length," Version",1===O.length?"":"s","\xa0\xa0\xa0"]})}),(0,L.jsx)("span",{className:n.detailsSpacer,children:(0,L.jsx)("strong",{children:(0,g.l5)(Ee)})})]})}),actions:(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(G.Z,{id:"select-multiple-versions",tooltip:"Select Multiple Versions",onClick:function(){ue(!de)},text:"",icon:(0,L.jsx)(N.amE,{}),color:"primary",variant:de?"contained":"outlined",style:{marginRight:8}}),de&&(0,L.jsx)(G.Z,{id:"delete-multiple-versions",tooltip:"Delete Selected Versions",onClick:function(){ge(!0)},text:"",icon:(0,L.jsx)(N.pJl,{}),color:"secondary",style:{marginRight:8},disabled:0===me.length}),(0,L.jsx)(G.Z,{id:"delete-non-current",tooltip:"Delete Non Current Versions",onClick:function(){se(!0)},text:"",icon:(0,L.jsx)(N.utM,{}),color:"secondary",style:{marginRight:15},disabled:O.length<=1}),(0,L.jsx)("span",{className:n.sortByLabel,children:"Sort by"}),(0,L.jsx)(wn.Z,{id:"sort-by",label:"",value:Q,onChange:function(e){$(e.target.value)},name:"sort-by",options:[{label:"Date",value:"date"},{label:"Size",value:"size"}]})]}),className:n.noBottomBorder})}),(0,L.jsx)(d.ZP,{item:!0,xs:12,className:n.versionsVirtualPanel,children:C.version_id&&"null"!==C.version_id&&(0,L.jsx)(En.aV,{style:{width:"100%"},containerStyle:{width:"100%",maxWidth:"100%"},width:1,height:800,rowCount:Ne.length,rowHeight:108,rowRenderer:function(e){var n=e.key,t=e.index,i=(e.isScrolling,e.isVisible,e.style),o=O.length-t;return(0,L.jsx)(Sn,{style:i,fileName:(null===C||void 0===C?void 0:C.name)||"",versionInfo:Ne[t],index:o,onDownload:we,onRestore:Se,onShare:ye,onPreview:Ce,globalClick:ke,isSelected:l===Ne[t].version_id,checkable:de,onCheck:Ie,isChecked:me.includes(Ne[t].version_id||"")},n)}})})]})]})]})})),Fn=t(21266),Tn=t(72455),Pn=o.lazy((function(){return Promise.resolve().then(t.bind(t,13065))})),Ln=o.lazy((function(){return Promise.resolve().then(t.bind(t,28789))})),On=o.lazy((function(){return Promise.resolve().then(t.bind(t,74768))})),Dn=(0,F.Z)(o.lazy((function(){return t.e(711).then(t.bind(t,50711))}))),Bn=(0,F.Z)(o.lazy((function(){return Promise.resolve().then(t.bind(t,34433))}))),Rn=(0,F.Z)(o.lazy((function(){return Promise.all([t.e(5561),t.e(8810),t.e(6901)]).then(t.bind(t,26901))}))),zn=(0,F.Z)(o.lazy((function(){return Promise.resolve().then(t.bind(t,78562))}))),An=(0,Tn.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({browsePaper:{border:0,height:"calc(100vh - 210px)","&.actionsPanelOpen":{minHeight:"100%"},"@media (max-width: 800px)":{width:800}},"@global":{".rowLine:hover  .iconFileElm":{backgroundImage:"url(/images/ob_file_filled.svg)"},".rowLine:hover  .iconFolderElm":{backgroundImage:"url(/images/ob_folder_filled.svg)"}},badgeOverlap:{"& .MuiBadge-badge":{top:10,right:1,width:5,height:5,minWidth:5}},screenTitle:{borderBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0}},h.VX),h.OR),h.qg),{},{searchField:(0,i.Z)((0,i.Z)({},h.qg.searchField),{},{maxWidth:380}),screenTitleContainer:{border:"#EAEDEE 1px solid",padding:"0.8rem 15px 0"},labelStyle:{color:"#969FA8",fontSize:"12px"},breadcrumbsContainer:{padding:"12px 14px 5px"},parentWrapper:{"@media (max-width: 800px)":{overflowX:"auto"}},fullContainer:{"@media (max-width: 799px)":{width:0}},hideListOnSmall:{"@media (max-width: 799px)":{display:"none"}}},h.C4),h.cx),(0,h.Bz)(e.spacing(4))))})),Mn={borderWidth:2,borderRadius:2,borderColor:"#eeeeee",outline:"none"},Un={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#2196f3"},Wn={borderStyle:"dashed",backgroundColor:"#fafafa",borderColor:"#00e676"};var Gn=(0,L.jsx)(Z.Z,{component:"h3",children:"Loading..."}),Hn=(0,b.EN)((function(e){var n=e.match,t=e.history,r=An(),s=(0,a.I0)(),c=(0,a.v9)((function(e){return e.objectBrowser.rewind.rewindEnabled})),l=(0,a.v9)((function(e){return e.objectBrowser.rewind.dateToRewind})),u=(0,a.v9)((function(e){return e.objectBrowser.rewind.bucketToRewind})),h=(0,a.v9)((function(e){return e.objectBrowser.versionsMode})),b=(0,a.v9)((function(e){return e.objectBrowser.searchObjects})),C=(0,a.v9)((function(e){return e.objectBrowser.showDeleted})),S=(0,a.v9)((function(e){return e.objectBrowser.objectDetailsOpen})),w=(0,a.v9)((function(e){return e.objectBrowser.selectedInternalPaths})),k=(0,a.v9)((function(e){return e.objectBrowser.loadingObjects})),_=(0,a.v9)((function(e){return e.objectBrowser.simplePath})),F=(0,a.v9)((function(e){return e.buckets.bucketDetails.loadingBucket})),O=(0,a.v9)((function(e){return e.buckets.bucketDetails.bucketInfo})),A=(0,a.v9)((function(e){return e.console.session.allowResources})),M=(0,o.useState)([]),U=(0,p.Z)(M,2),W=U[0],K=U[1],J=(0,o.useState)(!1),Y=(0,p.Z)(J,2),q=Y[0],X=Y[1],Q=(0,o.useState)(0),$=(0,p.Z)(Q,2),ee=$[0],ne=$[1],te=(0,o.useState)(Gn),ie=(0,p.Z)(te,2),oe=ie[0],ae=ie[1],re=(0,o.useState)(!0),se=(0,p.Z)(re,2),ce=se[0],le=se[1],de=(0,o.useState)(!1),ue=(0,p.Z)(de,2),fe=ue[0],he=ue[1],me=(0,o.useState)(!0),pe=(0,p.Z)(me,2),xe=pe[0],be=pe[1],ve=(0,o.useState)(!1),je=(0,p.Z)(ve,2),ge=je[0],Ze=je[1],ye=(0,o.useState)(!1),Ce=(0,p.Z)(ye,2),Se=Ce[0],we=Ce[1],ke=(0,o.useState)([]),Ne=(0,p.Z)(ke,2),Ie=Ne[0],_e=Ne[1],Fe=(0,o.useState)(!1),Te=(0,p.Z)(Fe,2),Pe=Te[0],Le=Te[1],Oe=(0,o.useState)(null),De=(0,p.Z)(Oe,2),Be=De[0],Re=De[1],ze=(0,o.useState)(!1),Ae=(0,p.Z)(ze,2),Me=Ae[0],Ue=Ae[1],We=(0,o.useState)("ASC"),Ge=(0,p.Z)(We,2),He=Ge[0],Ve=Ge[1],Ke=(0,o.useState)("name"),Je=(0,p.Z)(Ke,2),Ye=Je[0],qe=Je[1],Xe=(0,o.useState)(!1),Qe=(0,p.Z)(Xe,2),$e=Qe[0],en=Qe[1],nn=(0,o.useState)(!1),tn=(0,p.Z)(nn,2),on=tn[0],an=tn[1],rn=(0,o.useState)(!1),sn=(0,p.Z)(rn,2),cn=sn[0],ln=sn[1],dn=(0,o.useState)(null),fn=(0,p.Z)(dn,2),mn=fn[0],pn=fn[1],xn=f()(n.params,"subpaths",""),bn=n.params.bucketName,gn=(0,o.useRef)(null),Zn=(0,o.useRef)(null);(0,o.useEffect)((function(){null!==Zn.current&&(Zn.current.setAttribute("directory",""),Zn.current.setAttribute("webkitdirectory",""))}),[Zn]),(0,o.useEffect)((function(){if(1===Ie.length){var e=Ie[0];"none"!==(0,B.Bg)(e)?ln(!0):ln(!1),e.endsWith("/")?an(!1):an(!0)}else an(!1),ln(!1)}),[Ie]),(0,o.useEffect)((function(){mn||v.Z.invoke("GET","/api/v1/buckets/".concat(bn,"/quota")).then((function(e){var n=null;e.quota&&(n=e),pn(n)})).catch((function(e){console.error("Error Getting Quota Status: ",e.detailedError),pn(null)}))}),[mn,bn]),(0,o.useEffect)((function(){Ie.length>0?s((0,P.vb)(!0)):0===Ie.length&&null===w&&s((0,P.vb)(!1))}),[Ie,w,s]);var yn=(0,E.F)(bn,[I.Ft.S3_DELETE_OBJECT]),Sn=(0,E.F)(bn,[I.Ft.S3_LIST_BUCKET]);(0,o.useEffect)((function(){$e||(s((0,Fn.d5)(!0)),en(!0))}),[$e,s,en]),function(e,n){var t=(0,o.useRef)(null);(0,o.useEffect)((function(){t.current=e}),[e]),(0,o.useEffect)((function(){if(null!==n){var e=setInterval((function(){void 0!==t&&t.current&&t.current()}),n);return function(){return clearInterval(e)}}}),[n])}((function(){k&&function(){var e=Date.now()-ee;e/1e3>=6?ae((0,L.jsx)(o.Fragment,{children:(0,L.jsxs)(Z.Z,{component:"h3",children:["This operation is taking longer than expected... (",Math.ceil(e/1e3),"s)"]})})):e/1e3>=3&&ae((0,L.jsx)(Z.Z,{component:"h3",children:"This operation is taking longer than expected..."}))}()}),1e3),(0,o.useEffect)((function(){ce&&(Sn?v.Z.invoke("GET","/api/v1/buckets/".concat(bn,"/versioning")).then((function(e){he(e.is_versioned),le(!1)})).catch((function(e){console.error("Error Getting Object Versioning Status: ",e.detailedError),le(!1)})):(le(!1),K([])))}),[bn,ce,s,Sn]),(0,o.useEffect)((function(){xe&&(Sn?v.Z.invoke("GET","/api/v1/buckets/".concat(bn,"/object-locking")).then((function(e){Ze(e.object_locking_enabled),be(!1)})).catch((function(e){console.error("Error Getting Object Locking Status: ",e.detailedError),be(!1)})):(K([]),be(!1)))}),[bn,xe,s,Sn]),(0,o.useEffect)((function(){var e=(0,g.IO)(xn);e.endsWith("/")||""===e?(s((0,P.vb)(!1)),s((0,P.EE)(null)),s((0,P.Su)(""===e?"/":e))):(s((0,P.vH)(!0)),s((0,P.vb)(!0)),s((0,P.Eq)(!0)),s((0,P.EE)("".concat(e?"".concat((0,g.LL)(e)):""))),s((0,P.Su)("".concat(e.split("/").slice(0,-1).join("/"),"/"))))}),[xn,l,c,s]),(0,o.useEffect)((function(){s((0,P.G4)("")),s((0,P.MU)(!0)),_e([])}),[_,s,_e]),(0,o.useEffect)((function(){if(k)if(Sn){var e="";if(xn){var n=(0,g.IO)(xn);e=n.endsWith("/")?n:n+"/"}var t=Date.now();ne(t),ae(Gn);var i="/api/v1/buckets/".concat(bn,"/objects");if(c){if(u!==bn)return void s((0,P._w)());if(l){var o=l.toISOString();i="/api/v1/buckets/".concat(bn,"/rewind/").concat(o)}}else if(C){var a=(new Date).toISOString();i="/api/v1/buckets/".concat(bn,"/rewind/").concat(a)}v.Z.invoke("GET","".concat(i).concat(e?"?prefix=".concat((0,g.LL)(e)):"")).then((function(n){var t=n.objects||[],o=[],a=[];t.forEach((function(e){e.name!==(0,g.IO)(xn)&&(e.name.endsWith("/")?o.push(e):a.push(e))}));var r=[].concat(o,a);if(0===r.length&&""!==e){var d="/api/v1/buckets/".concat(bn,"/objects").concat(xn?"?prefix=".concat(xn):"");if(c){var u=l.toISOString(),f="";if(xn){var h=(0,g.IO)(xn);f=h.endsWith("/")?h:h+"/"}d="/api/v1/buckets/".concat(bn,"/rewind/").concat(u).concat(f?"?prefix=".concat((0,g.LL)(f)):"")}v.Z.invoke("GET",d).then((function(n){if(n.objects){for(var t=!1,o=e.slice(0,e.length-1),a=0;a<n.objects.length;a++)n.objects[a].name===o&&(t=!0);if(1===n.objects.length&&n.objects[0].name.endsWith("/")||!t)K(r);else{s((0,P.vb)(!0)),s((0,P.EE)(xn));var c="".concat((0,g.IO)(xn).split("/").slice(0,-1).join("/"),"/");v.Z.invoke("GET","".concat(i).concat(e?"?prefix=".concat((0,g.LL)(c)):"")).then((function(e){var n=e.objects||[];K(n)})).catch((function(){}))}s((0,P.MU)(!1))}else s((0,P.MU)(!1)),K(r)})).catch((function(e){s((0,P.MU)(!1)),s((0,T.Ih)(e))}))}else K(r),s((0,P.MU)(!1))})).catch((function(n){var t=(0,B.kh)(bn,e,A||[]);t&&0!==t.length?K(t):s((0,T.Ih)(n)),s((0,P.MU)(!1))}))}else s((0,P.MU)(!1))}),[k,n,s,bn,c,l,xn,O,C,Sn,u,A]),(0,o.useEffect)((function(){F&&v.Z.invoke("GET","/api/v1/buckets/".concat(bn)).then((function(e){s((0,Fn.d5)(!1)),s((0,Fn.f4)(e))})).catch((function(e){s((0,Fn.d5)(!1)),s((0,T.Ih)(e))}))}),[bn,F,s]);var wn=function(e){if(null!==e&&void 0!==e&&null!==e.target.files&&void 0!==e.target.files){e.preventDefault();for(var n=[],t=0;t<e.target.files.length;t++)n.push(e.target.files[t]);kn(n,""),e.target.value=""}},kn=(0,o.useCallback)((function(e,n){var t="";_&&(t=_.endsWith("/")?_:_+"/");!function(e,n,t,i){var o=function(o){return new Promise((function(a,r){var c="api/v1/buckets/".concat(n,"/objects/upload"),l=o.name,d=new Blob([o],{type:o.type}),u="",h=f()(o,"path",""),m=f()(o,"webkitRelativePath",""),p=i;if(""!==h?p=h:""!==m&&(p=m),""!==t||""!==p){var x=p.split("/").slice(0,-1).join("/"),b=t.endsWith("/")?t.slice(0,-1):t;u=(0,g.LL)("".concat(b).concat(b.endsWith("/")||""===x||x.startsWith("/")?"":"/").concat(x).concat(!x.endsWith("/")||""===x.trim()&&!t.endsWith("/")?"/":""))}""!==u&&(c="".concat(c,"?prefix=").concat(u));var v=(0,g.LL)("".concat(n,"-").concat(u,"-").concat((new Date).getTime(),"-").concat(Math.random())),j=new XMLHttpRequest;j.open("POST",c,!0);var Z=e.length>1,y="An error occurred while uploading the file".concat(Z?"s":"","."),C={413:"Error - File size too large"};j.withCredentials=!1,j.onload=function(e){if(j.status>=200&&j.status<300)s((0,P.oK)(v)),a({status:j.status});else{if(C[j.status])y=C[j.status];else if(j.response)try{var n=JSON.parse(j.response);y=n.detailedMessage}catch(t){y="something went wrong"}s(s((0,P.qJ)(v))),r({status:j.status,message:y})}},j.upload.addEventListener("error",(function(e){r(y),s(s((0,P.qJ)(v)))})),j.upload.addEventListener("progress",(function(e){var n=Math.floor(100*e.loaded/e.total);s((0,P.RO)({instanceID:v,progress:n}))})),j.onerror=function(){r(y),s((0,P.qJ)(v))},j.onloadend=function(){0===e.length&&s((0,P.MU)(!0))},j.onabort=function(){s((0,P.Im)(v))};var S=new FormData;if(void 0!==o.size){S.append(o.size.toString(),d,l);var w=(0,un.YO)(8);(0,un.EN)(w,j),s((0,P.Mc)({ID:w,bucketName:n,done:!1,instanceID:v,percentage:0,prefix:"".concat((0,g.IO)(u)).concat(l),type:"upload",waitingForFile:!1,failed:!1,cancelled:!1})),j.send(S)}}))},a=[];s((0,P.LD)());for(var r=0;r<e.length;r++){var c=e[r];a.push(o(c))}Promise.allSettled(a).then((function(e){var n=e.filter((function(e){return"rejected"===e.status}));if(n.length>0){var t=a.length,i=a.length-n.length,o={errorMessage:"There were some errors during file upload",detailedError:"Uploaded files ".concat(i,"/").concat(t)};s((0,T.Ih)(o))}s((0,P.MU)(!0)),_e([])}))}(e,bn,t,n)}),[bn,s,_]),Nn=(0,o.useCallback)((function(e){if(e&&e.length>0){var n=e[0].path;kn(e,n)}}),[kn]),En=(0,x.uI)({noClick:!0,onDrop:Nn}),In=En.getRootProps,Tn=En.getInputProps,Hn=En.isDragActive,Vn=En.isDragAccept,Kn=(0,o.useMemo)((function(){return(0,i.Z)((0,i.Z)((0,i.Z)({},Mn),Hn?Un:{}),Vn?Wn:{})}),[Hn,Vn]),Jn=W.filter((function(e){return""===b||e.name.toLowerCase().indexOf(b.toLowerCase())>=0})),Yn=(0,g.IO)(xn),qn=Yn.split("/").filter((function(e){return""!==e})),Xn=Jn.sort((0,B.P_)(Ye)),Qn=[];Qn="ASC"===He?Xn:Xn.reverse();var $n=[bn];qn.length>0&&($n=$n.concat(qn));var et=function(e){if(s((0,P.EE)(null)),s((0,P.db)({status:!1})),S&&null!==w){var n=(0,g.IO)(xn).split("/");n.pop();var i="";n&&n.length>0&&(i="".concat(n.join("/"),"/")),t.push("/buckets/".concat(bn,"/browse/").concat((0,g.LL)(i)))}s((0,P.vb)(!1)),_e([]),e&&s((0,P.MU)(!0))},nt=[{type:"view",label:"View",onClick:function(e){_e([]);var n="/buckets/".concat(bn,"/browse").concat(e?"/".concat((0,g.LL)(e)):"");t.push(n),s((0,P.vb)(!0)),s((0,P.Eq)(!0)),s((0,P.EE)("".concat(e?"".concat((0,g.LL)(e)):"")))},sendOnlyId:!0}],tt=[{action:function(){if(0!==Ie.length){Jn.filter((function(e){return Ie.includes(e.name)})).forEach((function(e){!function(e){var n=(0,g.LL)("".concat(bn,"-").concat(e.name,"-").concat((new Date).getTime(),"-").concat(Math.random())),t=(0,B.LR)(bn,(0,g.LL)(e.name),e.version_id,e.size,(function(e){s((0,P.RO)({instanceID:n,progress:e}))}),(function(){s((0,P.oK)(n))}),(function(){s((0,P.qJ)(n))}),(function(){s((0,P.Im)(n))})),i=(0,un.YO)(8);(0,un.EN)(i,t),s((0,P.Mc)({ID:i,bucketName:bn,done:!1,instanceID:n,percentage:0,prefix:e.name,type:"download",waitingForFile:!0,failed:!1,cancelled:!1})),t.send()}(e)}))}},label:"Download",disabled:0===Ie.length,icon:(0,L.jsx)(N._8t,{}),tooltip:"Download Selected"},{action:function(){if(1===Ie.length){var e;(e=Jn.find((function(e){return Ie.includes(e.name)})))&&(Re(e),Ue(!0))}},label:"Share",disabled:1!==Ie.length||!on,icon:(0,L.jsx)(N.aAc,{}),tooltip:"Share Selected File"},{action:function(){if(1===Ie.length){var e;(e=Jn.find((function(e){return Ie.includes(e.name)})))&&(Re(e),Le(!0))}},label:"Preview",disabled:1!==Ie.length||!cn,icon:(0,L.jsx)(N.P99,{}),tooltip:"Preview Selected File"},{action:function(){X(!0)},label:"Delete",icon:(0,L.jsx)(On,{}),disabled:!(0,E.F)(bn,[I.Ft.S3_DELETE_OBJECT])||0===Ie.length||!yn,tooltip:"Delete Selected Files"}];return(0,L.jsxs)(o.Fragment,{children:[Me&&Be&&(0,L.jsx)(Bn,{open:Me,closeModalAndRefresh:function(){Ue(!1),Re(null)},bucketName:bn,dataObject:{name:Be.name,last_modified:"",version_id:Be.version_id}}),q&&(0,L.jsx)(Dn,{deleteOpen:q,selectedBucket:bn,selectedObjects:Ie,closeDeleteModalAndRefresh:function(e){X(!1),e&&(s((0,T.y1)("Objects deleted successfully.")),_e([]),s((0,P.MU)(!0)))},versioning:fe}),Se&&(0,L.jsx)(Rn,{open:Se,closeModalAndRefresh:function(){we(!1)},bucketName:bn}),Pe&&(0,L.jsx)(zn,{open:Pe,bucketName:bn,object:Be,onClosePreview:function(){Le(!1),Re(null)}}),(0,L.jsxs)(z.Z,{variant:"full",children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,className:r.screenTitleContainer,children:(0,L.jsx)(R.Z,{className:r.screenTitle,icon:(0,L.jsx)("span",{className:r.listIcon,children:(0,L.jsx)(N.wNb,{})}),title:(0,L.jsx)("span",{className:r.titleSpacer,children:bn}),subTitle:(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:r.bucketDetails,children:[(0,L.jsxs)("span",{className:r.detailsSpacer,children:["Created:\xa0\xa0\xa0",(0,L.jsx)("strong",{children:(null===O||void 0===O?void 0:O.creation_date)||""})]}),(0,L.jsxs)("span",{className:r.detailsSpacer,children:["Access:\xa0\xa0\xa0",(0,L.jsx)("strong",{children:(null===O||void 0===O?void 0:O.access)||""})]}),O&&(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)("span",{className:r.detailsSpacer,children:[O.size&&(0,L.jsx)(o.Fragment,{children:(0,g.l5)(O.size)}),O.size&&mn&&(0,L.jsxs)(o.Fragment,{children:[" / ",(0,g.l5)(mn.quota)]}),O.size&&O.objects?" - ":"",O.objects&&(0,L.jsxs)(o.Fragment,{children:[O.objects,"\xa0Object",O.objects&&1!==O.objects?"s":""]})]})})]})}),actions:(0,L.jsx)(o.Fragment,{children:(0,L.jsxs)("div",{className:r.actionsSection,children:[(0,L.jsx)(G.Z,{id:"rewind-objects-list",tooltip:"Rewind Bucket",text:"Rewind",icon:(0,L.jsx)(y.Z,{badgeContent:" ",color:"secondary",variant:"dot",invisible:!c,className:r.badgeOverlap,sx:{height:16},children:(0,L.jsx)(Pn,{style:{minWidth:16,minHeight:16,width:16,height:16}})}),color:"primary",variant:"outlined",onClick:function(){we(!0)},disabled:!fe||!(0,E.F)(bn,[I.Ft.S3_PUT_OBJECT])}),(0,L.jsx)(G.Z,{id:"refresh-objects-list",tooltip:"Reload List",text:"Refresh",icon:(0,L.jsx)(Ln,{}),color:"primary",variant:"outlined",onClick:function(){s(h?(0,P.Eq)(!0):(0,P.MU)(!0))},disabled:!(0,E.F)(bn,[I.Ft.S3_LIST_BUCKET])||c}),(0,L.jsx)("input",{type:"file",multiple:!0,onChange:wn,style:{display:"none"},ref:gn}),(0,L.jsx)("input",{type:"file",multiple:!0,onChange:wn,style:{display:"none"},ref:Zn}),(0,L.jsx)(H,{bucketName:bn,uploadPath:$n.join("/"),uploadFileFunction:function(e){gn&&gn.current&&gn.current.click(),e()},uploadFolderFunction:function(e){Zn&&Zn.current&&Zn.current.click(),e()}})]})})})}),(0,L.jsxs)("div",(0,i.Z)((0,i.Z)({id:"object-list-wrapper"},In({style:(0,i.Z)({},Kn)})),{},{children:[(0,L.jsx)("input",(0,i.Z)({},Tn())),(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:r.tableBlock,sx:{border:"#EAEDEE 1px solid",borderTop:0},children:[h?(0,L.jsx)(o.Fragment,{children:null!==w&&(0,L.jsx)(_n,{internalPaths:w,bucketName:bn})}):(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:bn,errorProps:{disabled:!0},children:(0,L.jsxs)(d.ZP,{item:!0,xs:12,className:r.fullContainer,children:[(0,L.jsx)(d.ZP,{item:!0,xs:12,className:r.breadcrumbsContainer,children:(0,L.jsx)(D,{bucketName:bn,internalPaths:Yn,existingFiles:W||[],additionalOptions:!fe||c?null:(0,L.jsx)("div",{children:(0,L.jsx)(Cn.Z,{name:"deleted_objects",id:"showDeletedObjects",value:"deleted_on",label:"Show deleted objects",onChange:function(){s((0,P.mz)(!C)),et(!0)},checked:C,overrideLabelClasses:r.labelStyle,className:r.overrideShowDeleted,noTopMargin:!0})}),hidePathButton:!1})}),(0,L.jsx)(j.Z,{itemActions:nt,columns:c?jn:vn,isLoading:k,loadingMessage:oe,entityName:"Objects",idField:"name",records:Qn,customPaperHeight:"".concat(r.browsePaper," ").concat(S?"actionsPanelOpen":""),selectedItems:Ie,onSelect:function(e){var n=e.target,t=n.value,i=n.checked,o=(0,m.Z)(Ie);return i?o.push(t):o=o.filter((function(e){return e!==t})),_e(o),s((0,P.EE)(null)),o},customEmptyMessage:"This location is empty".concat(c?"":", please try uploading a new file"),sortConfig:{currentSort:Ye,currentDirection:He,triggerSort:function(e){var n=f()(e,"sortDirection","DESC");qe(e.sortBy),Ve(n),s((0,P.MU)(!0))}},onSelectAll:function(){if(s((0,P.EE)(null)),Ie.length!==Qn.length){var e=Qn.map((function(e){return e.name}));_e(e)}else _e([])},rowStyle:function(e){var n,t=e.index;return null!==(n=Qn[t])&&void 0!==n&&n.delete_flag?"deleted":""},parentClassName:r.parentWrapper})]})}),(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:bn,errorProps:{disabled:!0},children:(0,L.jsxs)(V,{open:S,closePanel:function(){et(!1)},className:"".concat(h?r.hideListOnSmall:""),children:[Ie.length>0&&(0,L.jsx)(Ee,{items:tt,title:"Selected Objects:"}),null!==w&&(0,L.jsx)(hn,{internalPaths:w,bucketName:bn,onClosePanel:et,versioning:fe,locking:ge})]})})]})]}))]})]})})),Vn=t(32291),Kn=t(95792),Jn=t(59114),Yn=t(84669),qn=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},(0,h.Bz)(e.spacing(4))))}))((function(e){var n=e.match,t=e.history,i=(e.classes,(0,a.I0)()),r=(0,a.v9)((function(e){return e.objectBrowser.versionsMode})),s=(0,a.v9)((function(e){return e.objectBrowser.searchObjects})),u=(0,a.v9)((function(e){return e.objectBrowser.versionedFile})),h=(0,a.v9)((function(e){return e.objectBrowser.searchVersions})),m=n.params.bucketName,p=f()(n.params,"subpaths","");(0,o.useEffect)((function(){i((0,P.db)({status:!1}))}),[p,i]);return(0,L.jsxs)(o.Fragment,{children:[(0,L.jsx)(Vn.Z,{label:(0,L.jsx)(Yn.Z,{label:"Buckets",to:I.gA.BUCKETS}),actions:(0,L.jsx)(E.s,{scopes:I.D[I.EI.BUCKET_ADMIN],resource:m,errorProps:{disabled:!0},children:(0,L.jsx)(c.Z,{title:"Configure Bucket",children:(0,L.jsx)(l.Z,{color:"primary","aria-label":"Configure Bucket",component:"span",onClick:function(){t.push("/buckets/".concat(m,"/admin"))},size:"large",children:(0,L.jsx)(Kn.Z,{})})})}),middleComponent:(0,L.jsx)(o.Fragment,{children:r?(0,L.jsx)(o.Fragment,{children:(0,L.jsx)(Jn.Z,{placeholder:"Start typing to filter versions of ".concat(u),onChange:function(e){i((0,P.Pr)(e))},value:h})}):(0,L.jsx)(E.s,{scopes:[I.Ft.S3_LIST_BUCKET],resource:m,errorProps:{disabled:!0},children:(0,L.jsx)(Jn.Z,{placeholder:"Start typing to filter objects in the bucket",onChange:function(e){i((0,P.G4)(e))},value:s})})})}),(0,L.jsx)(d.ZP,{children:(0,L.jsx)(Hn,{})})]})}))},34433:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i=t(29439),o=t(1413),a=t(72791),r=t(26181),s=t.n(r),c=t(60364),l=t(11135),d=t(25787),u=t(78029),f=t.n(u),h=t(61889),m=t(40986),p=t(23814),x=t(81207),b=t(56028),v=t(64163),j=t(30829),g=t(72426),Z=t.n(g),y=t(21435),C=t(62410),S=t(80184),w=(0,d.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},p.YI),p.Hr),{},{labelContainer:{display:"flex",alignItems:"center",marginBottom:15},fieldContainer:(0,o.Z)((0,o.Z)({},p.YI.fieldContainer),{},{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:10,marginTop:11,marginBottom:6}),dateInputContainer:{margin:"0 10px"},durationInputs:{display:"flex",alignItems:"center",justifyContent:"flex-start"},validityIndicator:{display:"flex",alignItems:"center",justifyContent:"flex-start",marginTop:25,marginLeft:10},invalidDurationText:{marginTop:15,display:"flex",color:"red",fontSize:11},reverseInput:{flexFlow:"row-reverse","& > label":{fontWeight:400,marginLeft:15,marginRight:25}},validityText:{fontSize:14,marginTop:15,display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{flexFlow:"column"},"& > .min-icon":{color:"#5E5E5E",width:15,height:15,marginRight:10}},validTill:{fontWeight:"bold",marginLeft:15}}))}))((function(e){var n=e.classes,t=e.id,o=e.initialDate,r=e.label,s=e.maxDays,c=e.entity,l=e.onChange,d=(0,a.useState)(7),u=(0,i.Z)(d,2),f=u[0],m=u[1],p=(0,a.useState)(0),x=(0,i.Z)(p,2),b=x[0],v=x[1],g=(0,a.useState)(0),w=(0,i.Z)(g,2),k=w[0],N=w[1],E=(0,a.useState)(!0),I=(0,i.Z)(E,2),_=I[0],F=I[1],T=(0,a.useState)(Z()()),P=(0,i.Z)(T,2),L=P[0],O=P[1];(0,a.useEffect)((function(){O(function(e,n,t,i){return Z()(e).add(n,"days").add(t,"hours").add(i,"minutes")}(o,f,b,k))}),[o,f,b,k]),(0,a.useEffect)((function(){_?l(L.format("YYYY-MM-DDTHH:mm:ss"),!0):l("0000-00-00",!1)}),[L,l,_]),(0,a.useEffect)((function(){var e=!0;(f<0||s&&f>s||isNaN(f))&&(e=!1),(b<0||b>23||isNaN(b))&&(e=!1),(k<0||k>59||isNaN(k))&&(e=!1),!s||f!==s||0===b&&0===k||(e=!1),F(e)}),[L,s,l,f,b,k]);var D={style:{textAlign:"center",paddingRight:10,paddingLeft:10,width:25},className:"removeArrows"};return(0,S.jsx)(a.Fragment,{children:(0,S.jsxs)(h.ZP,{container:!0,className:n.fieldContainer,children:[(0,S.jsx)(h.ZP,{item:!0,xs:12,className:n.labelContainer,children:(0,S.jsx)(j.Z,{htmlFor:t,className:n.inputLabel,sx:{marginLeft:"10px"},children:(0,S.jsx)("span",{children:r})})}),(0,S.jsxs)(h.ZP,{item:!0,xs:12,className:n.durationInputs,children:[(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(y.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:s?s.toString():"999",label:"Days",name:t,onChange:function(e){m(parseInt(e.target.value))},value:f.toString(),extraInputProps:D,noLabelMinWidth:!0})}),(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(y.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:"23",label:"Hours",name:t,onChange:function(e){v(parseInt(e.target.value))},value:b.toString(),extraInputProps:D,noLabelMinWidth:!0})}),(0,S.jsx)(h.ZP,{item:!0,className:n.dateInputContainer,children:(0,S.jsx)(y.Z,{id:t,className:n.reverseInput,type:"number",min:"0",max:"59",label:"Minutes",name:t,onChange:function(e){N(parseInt(e.target.value))},value:k.toString(),extraInputProps:D,noLabelMinWidth:!0})})]}),(0,S.jsx)(h.ZP,{item:!0,xs:12,className:"".concat(n.validityIndicator," ").concat(n.formFieldRow),children:_?(0,S.jsxs)("div",{className:n.validityText,children:[(0,S.jsx)(C.xPt,{}),(0,S.jsxs)("div",{className:n.validityLabel,children:[c," will be available until:"]})," ",(0,S.jsx)("div",{className:n.validTill,children:L.format("MM/DD/YYYY HH:mm:ss")})]}):(0,S.jsx)("div",{className:n.invalidDurationText,children:"Please select a valid duration."})})]})})})),k=t(45248),N=t(85531),E=t(87995),I=a.lazy((function(){return Promise.resolve().then(t.bind(t,79880))})),_=(0,d.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)({shareLinkInfo:{fontSize:14,fontWeight:400},copyShareLink:{display:"flex","@media (max-width: 900px)":{flexFlow:"column",alignItems:"center",justifyContent:"center"}},copyShareLinkInput:{"& div:first-child":{marginTop:0},"@media (max-width: 900px)":{minWidth:250}},copyShareLinkBtn:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 900px)":{marginTop:10}}},p.ID),p.DF))}))((function(e){var n=e.classes,t=e.open,o=e.closeModalAndRefresh,r=e.bucketName,l=e.dataObject,d=(0,c.I0)(),u=(0,c.v9)((function(e){return e.system.distributedSetup})),p=(0,a.useState)(""),j=(0,i.Z)(p,2),g=j[0],Z=j[1],y=(0,a.useState)(!0),_=(0,i.Z)(y,2),F=_[0],T=_[1],P=(0,a.useState)(!1),L=(0,i.Z)(P,2),O=L[0],D=L[1],B=(0,a.useState)(""),R=(0,i.Z)(B,2),z=R[0],A=R[1],M=(0,a.useState)(!0),U=(0,i.Z)(M,2),W=U[0],G=U[1],H=(0,a.useState)("null"),V=(0,i.Z)(H,2),K=V[0],J=V[1],Y=new Date;return(0,a.useEffect)((function(){if(void 0===l.version_id)return u?(x.Z.invoke("GET","/api/v1/buckets/".concat(r,"/objects?prefix=").concat((0,k.LL)(l.name)).concat(u?"&with_versions=true":"")).then((function(e){var n=s()(e,"objects",[]).find((function(e){return e.is_latest}));J(n?n.version_id:"null")})).catch((function(e){d((0,E.zb)(e))})),void T(!1)):(J("null"),void T(!1));J(l.version_id||"null"),T(!1)}),[r,l,u,d]),(0,a.useEffect)((function(){if(W&&!F){D(!0),Z("");var e=new Date("".concat(z)),n=new Date,t=Math.ceil((e.getTime()-n.getTime())/1e3);t>0&&x.Z.invoke("GET","/api/v1/buckets/".concat(r,"/objects/share?prefix=").concat((0,k.LL)(l.name),"&version_id=").concat(K).concat(""!==z?"&expires=".concat(t,"s"):"")).then((function(e){Z(e),D(!1)})).catch((function(e){d((0,E.zb)(e)),Z(""),D(!1)}))}}),[l,z,r,W,Z,d,u,F,K]),(0,S.jsx)(a.Fragment,{children:(0,S.jsxs)(b.Z,{title:"Share File",titleIcon:(0,S.jsx)(C.aAc,{style:{fill:"#4CCB92"}}),modalOpen:t,onClose:function(){o()},children:[F&&(0,S.jsx)(h.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{})}),!F&&(0,S.jsxs)(a.Fragment,{children:[(0,S.jsxs)(h.ZP,{item:!0,xs:12,className:n.shareLinkInfo,children:["This is a temporary URL with integrated access credentials for sharing objects valid for up to 7 days.",(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),"The temporary URL expires after the configured time limit."]}),(0,S.jsx)("br",{}),(0,S.jsx)(h.ZP,{item:!0,xs:12,className:n.dateContainer,children:(0,S.jsx)(w,{initialDate:Y,id:"date",label:"Active for",maxDays:7,onChange:function(e,n){G(n),n?A(e):(A(""),Z(""))},entity:"Link"})}),(0,S.jsx)(h.ZP,{item:!0,xs:12,className:"".concat(n.copyShareLink," ").concat(n.formFieldRow," "),children:(0,S.jsx)(h.ZP,{item:!0,xs:12,className:n.copyShareLinkInput,children:(0,S.jsx)(v.Z,{content:g,actionButton:(0,S.jsx)(f(),{text:g,children:(0,S.jsx)(N.Z,{variant:"outlined",onClick:function(){d((0,E.MK)("Share URL Copied to clipboard"))},disabled:""===g||O,sx:{marginRight:"5px",width:"28px",height:"28px",padding:"0px"},children:(0,S.jsx)(I,{})})})})})})]})]})})}))},78562:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var i=t(72791),o=t(56028),a=t(4942),r=t(29439),s=t(11135),c=t(25787),l=t(61889),d=t(40986),u=t(47922),f=t(45248),h=t(28182),m=t(80184),p=(0,c.Z)((function(){return(0,s.Z)({iframeContainer:{border:"0px",flex:"1 1 auto",width:"100%",height:250,backgroundColor:"transparent",borderRadius:5,"&.image":{height:500},"&.text":{height:700},"&.audio":{height:150},"&.video":{height:350},"&.fullHeight":{height:"calc(100vh - 185px)"}},iframeBase:{backgroundColor:"#fff"},iframeHidden:{display:"none"}})}))((function(e){var n=e.bucketName,t=e.object,o=e.isFullscreen,s=void 0!==o&&o,c=e.classes,p=(0,i.useState)(!0),x=(0,r.Z)(p,2),b=x[0],v=x[1],j="";if(t){var g=(0,f.LL)(t.name),Z=document.baseURI.replace(window.location.origin,"");j="".concat(window.location.origin).concat(Z,"api/v1/buckets/").concat(n,"/objects/download?preview=true&prefix=").concat(g),t.version_id&&(j=j.concat("&version_id=".concat(t.version_id)))}var y=(0,u.Bg)((null===t||void 0===t?void 0:t.name)||""),C=function(){v(!1)};return(0,m.jsxs)(i.Fragment,{children:[b&&(0,m.jsx)(l.ZP,{item:!0,xs:12,children:(0,m.jsx)(d.Z,{})}),(0,m.jsxs)("div",{style:{textAlign:"center"},children:["video"===y&&(0,m.jsx)("video",{style:{width:"auto",height:"auto",maxWidth:"calc(100vw - 100px)",maxHeight:"calc(100vh - 200px)"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,m.jsx)("source",{src:j,type:"video/mp4"})}),"audio"===y&&(0,m.jsx)("audio",{style:{width:"100%",height:"auto"},autoPlay:!0,controls:!0,muted:!1,playsInline:!0,onPlay:C,children:(0,m.jsx)("source",{src:j,type:"audio/mpeg"})}),"image"===y&&(0,m.jsx)("img",{style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"100vh"},src:j,alt:"preview",onLoad:C}),"video"!==y&&"audio"!==y&&"image"!==y&&(0,m.jsx)("div",{className:(0,h.Z)(c.iframeBase,(0,a.Z)({},c.iframeHidden,b)),children:(0,m.jsx)("iframe",{src:j,title:"File Preview",allowTransparency:!0,className:"".concat(c.iframeContainer," ").concat(s?"fullHeight":y),onLoad:C,children:"File couldn't be loaded. Please try Download instead"})})]})]})})),x=t(62410),b=function(e){var n=e.open,t=e.bucketName,a=e.object,r=e.onClosePreview;return(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(o.Z,{modalOpen:n,title:"Preview - ".concat(null===a||void 0===a?void 0:a.name),onClose:r,wideLimit:!1,titleIcon:(0,m.jsx)(x.$30,{}),children:(0,m.jsx)(p,{bucketName:t,object:a})})})}},47922:function(e,n,t){t.d(n,{Bg:function(){return o},LR:function(){return i},P_:function(){return a},kh:function(){return r}});var i=function(e,n,t,i,o,a,r,s){var c=document.createElement("a");document.body.appendChild(c);var l="/api/v1/buckets/".concat(e,"/objects/download?prefix=").concat(n);t&&(l=l.concat("&version_id=".concat(t)));var d=new XMLHttpRequest;return d.open("GET",l,!0),d.addEventListener("progress",(function(e){var n=Math.round(e.loaded/i*100);o&&o(n)}),!1),d.responseType="blob",d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var e=d.getResponseHeader("Content-Disposition"),n="download";if(e)n=decodeURIComponent(e).split('"')[1];a&&a();var t=document.createElement("a");t.href=window.URL.createObjectURL(d.response),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},d.onerror=function(){r&&r()},d.onabort=function(){s&&s()},d},o=function(e){var n=e.split(".").pop();return n?(n=n.toLowerCase(),["jif","jfif","apng","avif","svg","webp","bmp","ico","jpg","jpe","jpeg","gif","png","heic"].includes(n)?"image":["pdf","txt","json"].includes(n)?"text":["wav","mp3","alac","aiff","dsd","pcm"].includes(n)?"audio":["mp4","avi","mpg","webm","mov","flv","mkv","wmv","avchd","mpeg-4"].includes(n)?"video":"none"):"none"},a=function(e){switch(e){case"name":return function(e,n){return e.name.localeCompare(n.name)};case"last_modified":return function(e,n){return new Date(e.last_modified).getTime()-new Date(n.last_modified).getTime()};case"size":return function(e,n){return(e.size||-1)-(n.size||-1)}}},r=function(e,n,t){if(0===t.length)return null;var i=t.filter((function(n){return n.resource.endsWith(":".concat(e))||n.resource.includes(":".concat(e,"/"))}));if(0===i.length)return null;var o=[],a=n.split("/");return i.forEach((function(e){var n=(e.resource.split(":").pop()||"").split("/");n.length>1&&n.every((function(e,n){return"*"!==e&&((!a[n]||a[n]===e)&&(a[n]||o.push({name:"".concat(e,"/"),size:0,last_modified:new Date,version_id:""}),!0))})),"StringEquals"!==e.conditionOperator&&"StringLike"!==e.conditionOperator||e.prefixes.forEach((function(e){if(""!==e){var n=e.split("/"),t=[];n.every((function(e,n){return!e.includes("*")&&""!==e&&(e!==a[n]?(o.push({name:"".concat(t.join("/")).concat(t.length>0?"/":"").concat(e,"/"),size:0,last_modified:new Date,version_id:""}),!1):(""!==e&&t.push(e),!0))}))}}))})),o}},75578:function(e,n,t){var i=t(1413),o=t(72791),a=t(80184);n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function t(t){return(0,a.jsx)(o.Suspense,{fallback:n,children:(0,a.jsx)(e,(0,i.Z)({},t))})}return t}},92217:function(e,n,t){var i=t(93433),o=t(29439),a=t(1413),r=t(72791),s=t(61889),c=(t(2574),t(69874)),l=t(9461),d=t(73975),u=t(80745),f=t(30829),h=t(20068),m=t(64554),p=t(11135),x=t(25787),b=t(84570),v=t(23814),j=t(62410),g=t(40603),Z=t(78029),y=t.n(Z),C=t(64294),S=t(80184),w={json:d.AV,yaml:function(){return l.i.define(u.r)}},k=C.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),N=C.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});n.Z=(0,x.Z)((function(e){return(0,p.Z)((0,a.Z)({},v.YI))}))((function(e){var n=e.value,t=e.label,a=void 0===t?"":t,l=e.tooltip,d=void 0===l?"":l,u=e.mode,p=void 0===u?"json":u,x=e.classes,v=e.onBeforeChange,Z=e.readOnly,C=void 0!==Z&&Z,E=e.editorHeight,I=void 0===E?"250px":E,_=(0,r.useState)(!1),F=(0,o.Z)(_,2),T=F[0],P=F[1],L=[];return w[p]&&(L=[].concat((0,i.Z)(L),[w[p]()])),(0,S.jsxs)(r.Fragment,{children:[(0,S.jsxs)(f.Z,{className:x.inputLabel,children:[(0,S.jsx)("span",{children:a}),""!==d&&(0,S.jsx)("div",{className:x.tooltipContainer,children:(0,S.jsx)(h.Z,{title:d,placement:"top-start",children:(0,S.jsx)("div",{className:x.tooltip,children:(0,S.jsx)(b.Z,{})})})})]}),(0,S.jsx)(s.ZP,{item:!0,xs:12,children:(0,S.jsx)("br",{})}),(0,S.jsxs)(s.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,S.jsx)(s.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.ZP,{value:n,theme:T?N:k,extensions:L,editable:!C,basicSetup:!0,height:I,onChange:function(e,n){v(null,null,e)}})}),(0,S.jsx)(s.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:T?"#282c34":"#f7f7f7"},children:(0,S.jsxs)(m.Z,{className:T?"dark-theme":"",sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}},"&.dark-theme button":{background:"#FFFFFF"}},children:[(0,S.jsx)(g.Z,{tooltip:"Change theme",onClick:function(){P(!T)},text:"",icon:(0,S.jsx)(j.EOM,{}),color:"primary",variant:"outlined"}),(0,S.jsx)(y(),{text:n,children:(0,S.jsx)(g.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,S.jsx)(j.TIy,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},64163:function(e,n,t){var i=t(1413),o=t(72791),a=t(61889),r=t(11135),s=t(25787),c=t(23814),l=t(80184);n.Z=(0,s.Z)((function(e){return(0,r.Z)((0,i.Z)({},c.xx))}))((function(e){var n=e.classes,t=e.label,i=void 0===t?"":t,r=e.content,s=e.multiLine,c=void 0!==s&&s,d=e.actionButton;return(0,l.jsx)(o.Fragment,{children:(0,l.jsxs)(a.ZP,{className:n.prefinedContainer,children:[""!==i&&(0,l.jsx)(a.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:i}),(0,l.jsxs)(a.ZP,{item:!0,xs:12,className:"".concat(n.predefinedList," ").concat(d?n.includesActionButton:""),children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,className:c?n.innerContentMultiline:n.innerContent,children:r}),d&&(0,l.jsx)("div",{className:n.overlayShareOption,children:d})]})]})})}))},56028:function(e,n,t){var i=t(29439),o=t(1413),a=t(72791),r=t(60364),s=t(13400),c=t(55646),l=t(5574),d=t(65661),u=t(39157),f=t(11135),h=t(25787),m=t(23814),p=t(29823),x=t(28057),b=t(87995),v=t(80184);n.Z=(0,h.Z)((function(e){return(0,f.Z)((0,o.Z)((0,o.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,f=e.title,h=e.children,m=e.classes,j=e.wideLimit,g=void 0===j||j,Z=e.noContentPadding,y=e.titleIcon,C=void 0===y?null:y,S=(0,r.I0)(),w=(0,a.useState)(!1),k=(0,i.Z)(w,2),N=k[0],E=k[1],I=(0,r.v9)((function(e){return e.system.modalSnackBar}));(0,a.useEffect)((function(){S((0,b.MK)(""))}),[S]),(0,a.useEffect)((function(){if(I){if(""===I.message)return void E(!1);"error"!==I.type&&E(!0)}}),[I]);var _=g?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},F="";return I&&(F=I.detailedErrorMsg,(""===I.detailedErrorMsg||I.detailedErrorMsg.length<5)&&(F=I.message)),(0,v.jsxs)(l.Z,(0,o.Z)((0,o.Z)({open:t,classes:m},_),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:m.root,children:[(0,v.jsxs)(d.Z,{className:m.title,children:[(0,v.jsxs)("div",{className:m.titleText,children:[C," ",f]}),(0,v.jsx)("div",{className:m.closeContainer,children:(0,v.jsx)(s.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,v.jsx)(p.Z,{})})})]}),(0,v.jsx)(x.Z,{isModal:!0}),(0,v.jsx)(c.Z,{open:N,className:m.snackBarModal,onClose:function(){E(!1),S((0,b.MK)(""))},message:F,ContentProps:{className:"".concat(m.snackBar," ").concat(I&&"error"===I.type?m.errorSnackBar:"")},autoHideDuration:I&&"error"===I.type?1e4:5e3}),(0,v.jsx)(u.Z,{className:Z?"":m.content,children:h})]}))}))},59114:function(e,n,t){var i=t(4942),o=t(1413),a=(t(72791),t(63466)),r=t(74900),s=t(27391),c=t(25787),l=t(11135),d=t(23814),u=t(80184);n.Z=(0,c.Z)((function(e){return(0,l.Z)({searchField:(0,o.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,o=e.classes,c=e.onChange,l=e.adornmentPosition,d=void 0===l?"end":l,f=e.overrideClass,h=e.value,m=(0,i.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(a.Z,{position:d,className:o.adornment,children:(0,u.jsx)(r.Z,{})}));return(0,u.jsx)(s.Z,{placeholder:t,className:f||o.searchField,id:"search-resource",label:"",InputProps:m,onChange:function(e){c(e.target.value)},variant:"standard",value:h})}))},76610:function(e,n,t){t.d(n,{EN:function(){return o},Gy:function(){return a},YO:function(){return r}});var i={},o=function(e,n){i[e]=n},a=function(e){return i[e]},r=function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=t.length,o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*i));return n}},73669:function(e,n,t){var i=t(29439),o=t(64554),a=t(36151),r=t(21435),s=t(62410),c=t(72791),l=t(80184);n.Z=function(e){var n=e.value,t=(0,c.useState)(!1),d=(0,i.Z)(t,2),u=d[0],f=d[1];return(0,l.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",flexFlow:{sm:"row",xs:"column"}},children:[(0,l.jsx)(r.Z,{id:"inspect-dec-key",name:"inspect-dec-key",placeholder:"",label:"",type:u?"text":"password",onChange:function(){},value:n,overlayIcon:(0,l.jsx)(s.TIy,{}),extraInputProps:{readOnly:!0},overlayAction:function(){return navigator.clipboard.writeText(n)}}),(0,l.jsx)(a.Z,{sx:{marginLeft:"10px"},variant:"contained",onClick:function(){return f(!u)},children:"Show/Hide"})]})}}}]);
//# sourceMappingURL=2198.6af2bb7c.chunk.js.map